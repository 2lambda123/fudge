
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>math Package &mdash; Fudge and GND 1.2 beta documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.2 beta',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../_static/gnd-20121206-favicon.ico"/>
    <link rel="top" title="Fudge and GND 1.2 beta documentation" href="../index.html" />
    <link rel="up" title="core Package" href="fudge.core.html" />
    <link rel="next" title="test Package" href="fudge.core.math.test.html" />
    <link rel="prev" title="core Package" href="fudge.core.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="fudge.core.math.test.html" title="test Package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="fudge.core.html" title="core Package"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Fudge and GND 1.2 beta documentation</a> &raquo;</li>
          <li><a href="index.html" >fudge Package</a> &raquo;</li>
          <li><a href="fudge.core.html" accesskey="U">core Package</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="math-package">
<h1>math Package<a class="headerlink" href="#math-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id1">
<h2><tt class="xref py py-mod docutils literal"><span class="pre">math</span></tt> Package<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-fudge.core.math"></span></div>
<div class="section" id="module-fudge.core.math.endl1dmathClasses">
<span id="endl1dmathclasses-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">endl1dmathClasses</span></tt> Module<a class="headerlink" href="#module-fudge.core.math.endl1dmathClasses" title="Permalink to this headline">¶</a></h2>
<p>This module contains the endl1dmath class. Also see the supporting module endl1dmathmisc.py.</p>
<dl class="class">
<dt id="fudge.core.math.endl1dmathClasses.endl1dmath">
<em class="property">class </em><tt class="descclassname">fudge.core.math.endl1dmathClasses.</tt><tt class="descname">endl1dmath</tt><big>(</big><em>data=None</em>, <em>checkDataType=False</em>, <em>yLabel=None</em>, <em>label='unknown'</em>, <em>toFloat=0</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl1dmathClasses.html#endl1dmath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl1dmathClasses.endl1dmath" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>This class is designed to support operations on a list of numbers (e.g., [ number, number, ..., number ]) that may be useful to scientists.
A number is an integer or a float.</p>
<dl class="docutils">
<dt>Members::</dt>
<dd>data        | A python list of numbers.
columns     | This is always 1 as this is 1d data.
yLabel      | Labelled used as the y-Label when plotting.</dd>
</dl>
<p>Some examples are,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">my1d</span> <span class="o">=</span> <span class="n">endl1dmath</span><span class="p">(</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span> <span class="p">]</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">my1d</span>
<span class="go"> 1.0000000e+00</span>
<span class="go"> 2.0000000e+00</span>
<span class="go"> 3.0000000e+00</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new1d</span> <span class="o">=</span> <span class="mf">2.</span> <span class="o">*</span> <span class="n">my1d</span> <span class="o">+</span> <span class="mf">3.14</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">new1d</span>
<span class="go"> 5.1400000e+00</span>
<span class="go"> 7.1400000e+00</span>
<span class="go"> 9.1400000e+00</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f1d</span> <span class="o">=</span> <span class="n">new1d</span><span class="o">.</span><span class="n">mapFunction</span><span class="p">(</span> <span class="s">&quot;math.exp(x)&quot;</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f1d</span>
<span class="go"> 1.7071577e+02</span>
<span class="go"> 1.2614284e+03</span>
<span class="go"> 9.3207651e+03</span>
</pre></div>
</div>
<dl class="method">
<dt id="fudge.core.math.endl1dmathClasses.endl1dmath.check">
<tt class="descname">check</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl1dmathClasses.html#endl1dmath.check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl1dmathClasses.endl1dmath.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that self&#8217;s data is a list of numbers.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl1dmathClasses.endl1dmath.copyData">
<tt class="descname">copyData</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl1dmathClasses.html#endl1dmath.copyData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl1dmathClasses.endl1dmath.copyData" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an endl1dmath object that is a copy, and not a reference, of self.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl1dmathClasses.endl1dmath.mapFunction">
<tt class="descname">mapFunction</tt><big>(</big><em>function</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl1dmathClasses.html#endl1dmath.mapFunction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl1dmathClasses.endl1dmath.mapFunction" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps &#8216;function&#8217; onto every point of self&#8217;s data. &#8216;Function&#8217; must be a string of the form &#8216;f(x)&#8217; where
f(x) evaluates to a number (e.g. &#8216;math.sin(x)&#8217;). That is, self.data[i] = f( self.data[i] ).  For example, to
exponentiate the points of instance my1d enter</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">my1d</span><span class="o">.</span><span class="n">mapFunction</span><span class="p">(</span> <span class="s">&#39;exp(x)&#39;</span> <span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl1dmathClasses.endl1dmath.plot">
<tt class="descname">plot</tt><big>(</big><em>xMin=None</em>, <em>xMax=None</em>, <em>yMin=None</em>, <em>yMax=None</em>, <em>xylog=0</em>, <em>xLabel=None</em>, <em>yLabel=None</em>, <em>title=None</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl1dmathClasses.html#endl1dmath.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl1dmathClasses.endl1dmath.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>This routine is like qplot (quick plot) except it spawns an interactive plot.  qplot is faster while plot is more flexible.</p>
<dl class="docutils">
<dt>xylog   plot-type::</dt>
<dd><blockquote class="first last">
<div>0     linear-linear
1     log-linear
2     linear-log
3     log-log</div></blockquote>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl1dmathClasses.endl1dmath.qplot">
<tt class="descname">qplot</tt><big>(</big><em>xMin=None</em>, <em>xMax=None</em>, <em>yMin=None</em>, <em>yMax=None</em>, <em>xylog=0</em>, <em>xLabel=None</em>, <em>yLabel=None</em>, <em>title=None</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl1dmathClasses.html#endl1dmath.qplot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl1dmathClasses.endl1dmath.qplot" title="Permalink to this definition">¶</a></dt>
<dd><p>Also see plot( ).</p>
<dl class="docutils">
<dt>xylog   plot-type::</dt>
<dd><blockquote class="first last">
<div>0     linear-linear
1     log-linear
2     linear-log
3     log-log</div></blockquote>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl1dmathClasses.endl1dmath.set">
<tt class="descname">set</tt><big>(</big><em>other</em>, <em>duplicate=0</em>, <em>checkDataType=1</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl1dmathClasses.html#endl1dmath.set"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl1dmathClasses.endl1dmath.set" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets self.data = other.data. If duplicate is true (i.e., not 0) than a copy of other&#8217;s data 
is made so that other&#8217;s and self&#8217;s data can be modified independently.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl1dmathClasses.endl1dmath.toFloat">
<tt class="descname">toFloat</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl1dmathClasses.html#endl1dmath.toFloat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl1dmathClasses.endl1dmath.toFloat" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts every point of self to a float.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl1dmathClasses.endl1dmath.toString">
<tt class="descname">toString</tt><big>(</big><em>format=None</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl1dmathClasses.html#endl1dmath.toString"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl1dmathClasses.endl1dmath.toString" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the string returned by the endl1dmath&#8217;s __repr__ function.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl1dmathClasses.endl1dmath.toStringWithPrefixSuffix">
<tt class="descname">toStringWithPrefixSuffix</tt><big>(</big><em>Prefix=''</em>, <em>Suffix=''</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl1dmathClasses.html#endl1dmath.toStringWithPrefixSuffix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl1dmathClasses.endl1dmath.toStringWithPrefixSuffix" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a printable string of the points in self. Each point is a separate line surrounded by Prefix and Suffix.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-fudge.core.math.endl1dmathmisc">
<span id="endl1dmathmisc-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">endl1dmathmisc</span></tt> Module<a class="headerlink" href="#module-fudge.core.math.endl1dmathmisc" title="Permalink to this headline">¶</a></h2>
<p>This module contains miscellaneous routines for supporting the endl1dmath class from module endl1dmathClasses.</p>
<dl class="docutils">
<dt>Module&#8217;s global variables::</dt>
<dd><dl class="first last docutils">
<dt>endl1d_repr_xFormat <span class="classifier-delimiter">:</span> <span class="classifier">Default format string used for converting an element of the data of</span></dt>
<dd>an endl1dmath object to a string.</dd>
</dl>
</dd>
</dl>
<dl class="function">
<dt id="fudge.core.math.endl1dmathmisc.check1dData">
<tt class="descclassname">fudge.core.math.endl1dmathmisc.</tt><tt class="descname">check1dData</tt><big>(</big><em>data</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl1dmathmisc.html#check1dData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl1dmathmisc.check1dData" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks that data is a python list of numbers. Triggers a raise if it is not.  Data may be a
python list or an instance that is a subclass of endl1dmath.</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.endl1dmathmisc.datasVariableInfoToXML">
<tt class="descclassname">fudge.core.math.endl1dmathmisc.</tt><tt class="descname">datasVariableInfoToXML</tt><big>(</big><em>data</em>, <em>indent=''</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl1dmathmisc.html#datasVariableInfoToXML"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl1dmathmisc.datasVariableInfoToXML" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fudge.core.math.endl1dmathmisc.endl1dToXMLGroup1dStringList">
<tt class="descclassname">fudge.core.math.endl1dmathmisc.</tt><tt class="descname">endl1dToXMLGroup1dStringList</tt><big>(</big><em>self</em>, <em>indent=''</em>, <em>floatFormat='%16.9e'</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl1dmathmisc.html#endl1dToXMLGroup1dStringList"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl1dmathmisc.endl1dToXMLGroup1dStringList" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fudge.core.math.endl1dmathmisc.get1dmathData">
<tt class="descclassname">fudge.core.math.endl1dmathmisc.</tt><tt class="descname">get1dmathData</tt><big>(</big><em>object</em>, <em>callingRoutine</em>, <em>msg</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl1dmathmisc.html#get1dmathData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl1dmathmisc.get1dmathData" title="Permalink to this definition">¶</a></dt>
<dd><p>If object is a python list, then it is returned. Else, if object is a sub-class
of endl1dmath its data is return otherwise a raise is executed.</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.endl1dmathmisc.list1dToXMLEqualProbableBins1dString">
<tt class="descclassname">fudge.core.math.endl1dmathmisc.</tt><tt class="descname">list1dToXMLEqualProbableBins1dString</tt><big>(</big><em>data</em>, <em>indent=''</em>, <em>floatFormat='%16.9e'</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl1dmathmisc.html#list1dToXMLEqualProbableBins1dString"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl1dmathmisc.list1dToXMLEqualProbableBins1dString" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fudge.core.math.endl1dmathmisc.list1dToXMLPointwiseString">
<tt class="descclassname">fudge.core.math.endl1dmathmisc.</tt><tt class="descname">list1dToXMLPointwiseString</tt><big>(</big><em>data</em>, <em>varString=''</em>, <em>indent=''</em>, <em>floatFormat='%16.9e'</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl1dmathmisc.html#list1dToXMLPointwiseString"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl1dmathmisc.list1dToXMLPointwiseString" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fudge.core.math.endl1dmathmisc.valid1dClassType">
<tt class="descclassname">fudge.core.math.endl1dmathmisc.</tt><tt class="descname">valid1dClassType</tt><big>(</big><em>object</em>, <em>callingRoutine=''</em>, <em>msg=''</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl1dmathmisc.html#valid1dClassType"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl1dmathmisc.valid1dClassType" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the first argument, object, if it is a subclass of the endl1dmath class; else, triggers a raise.</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.endl1dmathmisc.variableInfoToXML">
<tt class="descclassname">fudge.core.math.endl1dmathmisc.</tt><tt class="descname">variableInfoToXML</tt><big>(</big><em>variables</em>, <em>indent=''</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl1dmathmisc.html#variableInfoToXML"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl1dmathmisc.variableInfoToXML" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-fudge.core.math.endl2dmathClasses">
<span id="endl2dmathclasses-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">endl2dmathClasses</span></tt> Module<a class="headerlink" href="#module-fudge.core.math.endl2dmathClasses" title="Permalink to this headline">¶</a></h2>
<p>This module contains the endl2dmath class.  Also see the supporting module endl2dmathmisc.py.</p>
<p>It also contains the variables doSafeDivide and doSafeDivideAlways (see __div__ for details).</p>
<dl class="class">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath">
<em class="property">class </em><tt class="descclassname">fudge.core.math.endl2dmathClasses.</tt><tt class="descname">endl2dmath</tt><big>(</big><em>data=None</em>, <em>checkDataType=False</em>, <em>xLabel=None</em>, <em>yLabel=None</em>, <em>label='unknown'</em>, <em>interpolation=0</em>, <em>template=None</em>, <em>allowSameX=False</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>The class endl2dmath is the base class for all 2d data (i.e., data consisting of
(x, y) pairs or 2 column data). The data is stored as a python list of [ x, y ] values.
For example, the 2 column data:</p>
<div class="highlight-python"><pre>2.5  4.5
3.1  3.6
3.4  4.4</pre>
</div>
<p>is stored as self.data = [ [ 2.5, 4.5 ], [ 3.1, 3.6 ], [ 3.4, 4.4 ] ].</p>
<dl class="docutils">
<dt>Members::</dt>
<dd>data               A python list of [ x, y ] pairs.
columns            Always 2 (i.e., 2 column data).
interpolation      Type of interpolation used (see below).
xLabel             X label used for plotting.
yLabel             Y label used for plotting.</dd>
<dt>Interpolation values and meaning::</dt>
<dd><blockquote class="first last">
<div>0     linear-linear
1     log-linear
2     linear-log
3     log-log</div></blockquote>
</dd>
</dl>
<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.GetValueNIndex">
<tt class="descname">GetValueNIndex</tt><big>(</big><em>x</em>, <em>i=0</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.GetValueNIndex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.GetValueNIndex" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the tuple ( y, index ) where y is the value of self evaluated at x and
index is the starting index to be used in the next call when ascending the list.
I is the starting index.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.clip">
<tt class="descname">clip</tt><big>(</big><em>yMin</em>, <em>yMax</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.clip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.clip" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an endl2dmath object whose y values are self&#8217;s y values clipped to be between yMin and yMax.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.cmp">
<tt class="descname">cmp</tt><big>(</big><em>other</em>, <em>f=5e-05</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.cmp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.cmp" title="Permalink to this definition">¶</a></dt>
<dd><p>Compares self to other and prints out data where they differ by more than f.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.convolution">
<tt class="descname">convolution</tt><big>(</big><em>other</em>, <em>dxMax=None</em>, <em>convolutionMethod=None</em>, <em>interpolationAccuracy=0.01</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.convolution"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.convolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an endl2dmath instance that is a convolution of self and other. convolutionMethod
can be None or &#8216;pythonCodingV1&#8217;. If None and module fudgeConvolutions exist then function
fudgeConvolutions.convolution will be used; otherwise, the slow, original python code will be 
used. If interpolationAccuracy is not None then the endl2dmath.thin method is called with
interpolationAccuracy = interpolationAccuracy.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.copyData">
<tt class="descname">copyData</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.copyData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.copyData" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an endl2dmath instance that is a copy, and not a reference, of self.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.exp">
<tt class="descname">exp</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.exp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.exp" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an endl2dmath instance that has all y values of self exponentiated.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.getDomain">
<tt class="descname">getDomain</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.getDomain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.getDomain" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the domain (minumum and maximum x values) for self.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.getValue">
<tt class="descname">getValue</tt><big>(</big><em>x</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.getValue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.getValue" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns self&#8217;s y value evaluated at x.  If x is outside the range
of self&#8217;s x domain then 0. is returned. Also see getValueInDomain.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.getValueInDomain">
<tt class="descname">getValueInDomain</tt><big>(</big><em>x</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.getValueInDomain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.getValueInDomain" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns self&#8217;s y value evaluated at x.  If x is outside the range
of self&#8217;s x domain then None is returned. Also see getValue.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.integrateOneFunction">
<tt class="descname">integrateOneFunction</tt><big>(</big><em>xMin=None</em>, <em>xMax=None</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.integrateOneFunction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.integrateOneFunction" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the integral of self from xMin to xMax.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.integrateThreeFunctions">
<tt class="descname">integrateThreeFunctions</tt><big>(</big><em>other1</em>, <em>other2</em>, <em>xMin=None</em>, <em>xMax=None</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.integrateThreeFunctions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.integrateThreeFunctions" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the integral of self, other1 and other2 from xMin to xMax.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.integrateTwoFunctions">
<tt class="descname">integrateTwoFunctions</tt><big>(</big><em>other</em>, <em>xMin=None</em>, <em>xMax=None</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.integrateTwoFunctions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.integrateTwoFunctions" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the integral of self and other from xMin to xMax.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.integrateX">
<tt class="descname">integrateX</tt><big>(</big><em>xArray=None</em>, <em>weight=None</em>, <em>normalize=0</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.integrateX"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.integrateX" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an endl1dmath object of length len( xArray ) - 1 whose value at index i
is the integral of self from xArray[i] to xArray[i+1].  If xArray is none then 
the x values of self are used for xArray.  If Normailzie is non-zero the value 
at index i is divided by the x interval xArray[i+1] - xArray[i]. If weight is not 
equal to None, weigth must be an endl2dmath object, and the integral is of self * weight.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.label">
<tt class="descname">label</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.label"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.label" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns self&#8217;s label.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.log">
<tt class="descname">log</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.log"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.log" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an endl2dmath instance that has all y values of self log_e-ed.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.log10">
<tt class="descname">log10</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.log10"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.log10" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an endl2dmath instance that has all y values of self log10_e-ed.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.map">
<tt class="descname">map</tt><big>(</big><em>other</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets self&#8217;s y values to other evaluated at self&#8217;s x values.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.max">
<tt class="descname">max</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.max"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.max" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the maximum y value of self of None if self is empty.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.min">
<tt class="descname">min</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.min"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.min" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the minimum y value of self or None if self is empty.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.normalize">
<tt class="descname">normalize</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.normalize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.normalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an endl2dmath instance that is the same as self normalized to 1. This, is
the integral of dx y(x) is 1.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.overstrike">
<tt class="descname">overstrike</tt><big>(</big><em>other</em>, <em>leftFill=1</em>, <em>rightFill=1</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.overstrike"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.overstrike" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an endl2dmath instance that is the same as self, except that the data from
other.xMin to other.xMax is replaced by other&#8217;s data.  Other must be an endl2dmath object.
If leftFill is true then a point at other.xMin * ( 1. - parameters.endlEpsx ) is inserted 
with y value of self at that x value.  If rightFill is true then a point at other.xMax * 
( 1. + parameters.endlEpsx ) is inserted  with y value of self at that x value.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.plot">
<tt class="descname">plot</tt><big>(</big><em>xMin=None</em>, <em>xMax=None</em>, <em>yMin=None</em>, <em>yMax=None</em>, <em>xylog=0</em>, <em>xLabel=None</em>, <em>yLabel=None</em>, <em>title=None</em>, <em>style='lines'</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>This routine is like qplot (quick plot) except it spawns an interactive plot.
qplot is faster while plot is more flexible.</p>
<dl class="docutils">
<dt>xylog values and meaning::</dt>
<dd><blockquote class="first">
<div>xylog   plot-type</div></blockquote>
<blockquote class="last">
<div>0     linear-linear
1     log-linear
2     linear-log
3     log-log</div></blockquote>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.qplot">
<tt class="descname">qplot</tt><big>(</big><em>xMin=None</em>, <em>xMax=None</em>, <em>yMin=None</em>, <em>yMax=None</em>, <em>xylog=0</em>, <em>xLabel=None</em>, <em>yLabel=None</em>, <em>title=None</em>, <em>style='lines'</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.qplot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.qplot" title="Permalink to this definition">¶</a></dt>
<dd><p>Also see plot( ).</p>
<dl class="docutils">
<dt>xylog values and meaning::</dt>
<dd><blockquote class="first">
<div>xylog   plot-type</div></blockquote>
<blockquote class="last">
<div>0     linear-linear
1     log-linear
2     linear-log
3     log-log</div></blockquote>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.relativediff">
<tt class="descname">relativediff</tt><big>(</big><em>other</em>, <em>i1</em>, <em>i2</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.relativediff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.relativediff" title="Permalink to this definition">¶</a></dt>
<dd><p>Compares self&#8217;s y value at i1 to other&#8217;s y value at i2.  Mainly for internal use.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.removeClosePoints">
<tt class="descname">removeClosePoints</tt><big>(</big><em>verbose=0</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.removeClosePoints"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.removeClosePoints" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls endl2dmathmisc.check2dData and removes all points that check2dData claims are too close.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.reversex">
<tt class="descname">reversex</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.reversex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.reversex" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an endl2dmath instance whose list of [x,y] has been reversed. For example, the data
[ [1, 2], [3, 3], [4, 5], [6, 3] ] becomes [ [6, 3], [4, 5], [3, 3], [1, 2] ].</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.safeDivide">
<tt class="descname">safeDivide</tt><big>(</big><em>other</em>, <em>fMaxValue=10.0</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.safeDivide"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.safeDivide" title="Permalink to this definition">¶</a></dt>
<dd><p>Like __div__ except it attemps to handle divide by removing the offending point and 
adding near by points on either side. This routine also detects zeros in the denominator
and adds near by points on either side. See __div__ for more information.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.scalex">
<tt class="descname">scalex</tt><big>(</big><em>f</em>, <em>xLabel=None</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.scalex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.scalex" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an endl2dmath instance whose x data is set to f(x) where the x in f(x)
is self&#8217;s x data and f(x) is a string representing a function. The y data is not altered.
Two examples of f(x) are &#8216;exp(x)&#8217; and &#8216;sqrt( pow( x, 2 ) - 1 ) / x&#8217;. 
Sets the returned objects xLabel to xLabel if is it not None.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.set">
<tt class="descname">set</tt><big>(</big><em>other</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.set"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.set" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets self&#8217;s data to other&#8217;s data.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.setValue">
<tt class="descname">setValue</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.setValue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.setValue" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets self&#8217;s y value evaluated at x to y.  If there is no point at x 
then one is added. x and y must be numbers.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.slice">
<tt class="descname">slice</tt><big>(</big><em>xMin=None</em>, <em>xMax=None</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.slice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.slice" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an endl2dmath instance that includes all points of self that lie between
xMin and xMax inclusively.  If xMin = None (xMax = None) then the lowest (highest)
x value of self is used for xMin (xMax).</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.sliceDull">
<tt class="descname">sliceDull</tt><big>(</big><em>xMin=None</em>, <em>xMax=None</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.sliceDull"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.sliceDull" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as slice except that the end points of the returned endl2dmath instance are 
dulled if they are not the same as the end points of self.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.slicex">
<tt class="descname">slicex</tt><big>(</big><em>xMin=None</em>, <em>xMax=None</em>, <em>addZeroPoint=False</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.slicex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.slicex" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as slice except if self does not contain a point at xMin (xMax) then it is added with the y 
value being self evalauted at xMin (xMax). If self evalauted at xMin (xMax) is zero then no point is added,
unless addZeroPoint is True.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.slicexDull">
<tt class="descname">slicexDull</tt><big>(</big><em>xMin=None</em>, <em>xMax=None</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.slicexDull"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.slicexDull" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as slicex except the end points of the returned endl2dmath instance are 
dulled if they are not the same as the end points of self.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.sqrt">
<tt class="descname">sqrt</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.sqrt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.sqrt" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an endl2dmath instance that has all y values of self sqrt-ed.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.thicken">
<tt class="descname">thicken</tt><big>(</big><em>dx</em>, <em>Log=0</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.thicken"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.thicken" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an endl2dmath instance that is the same as self except that more
points are added, if needed, to insure that the x spacing between points is less
than dx if Log = 0 or the ratio between x values of points is less than dx if 
Log != 0. The actual x spacing may be smaller than dx but not larger.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.thin">
<tt class="descname">thin</tt><big>(</big><em>interpolationAccuracy=0.01</em>, <em>thinningMethod=None</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.thin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.thin" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an endl2dmath instance that is the same as self except the points are
thinned while keeping linear interpolation accurate to interpolationAccuracy. interpolationAccuracy
is forced into the range 1e-1 to 1e-8.  thinningMethod can be None, &#8216;c_CodingV1&#8217; or &#8216;pythonCodingV1&#8217;.
If thinningMethod is None or &#8216;c_CodingV1&#8217; then thin tries to use the thinning function in fudge2dThin.
If this fails or thinningMethod is &#8216;pythonCodingV1&#8217;, a slower python code is used.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.toInterpolation">
<tt class="descname">toInterpolation</tt><big>(</big><em>interpolation</em>, <em>accuracy</em>, <em>diSectionMax=3</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.toInterpolation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.toInterpolation" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a new endl2dmath object with data converted to the specified interpolation and accuracy.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.toString">
<tt class="descname">toString</tt><big>(</big><em>format=None</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.toString"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.toString" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the string returned by the endl2dmath&#8217;s __repr__ function. This can be useful when endl2dmath is used as a base class.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.toStringWithPrefixSuffix">
<tt class="descname">toStringWithPrefixSuffix</tt><big>(</big><em>Prefix=''</em>, <em>Suffix=''</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.toStringWithPrefixSuffix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.toStringWithPrefixSuffix" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a printable string of the data in self with Prefix and Suffix append to each line.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.trim">
<tt class="descname">trim</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.trim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.trim" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes extra leading and trailing data whose y values are zero.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.union">
<tt class="descname">union</tt><big>(</big><em>other</em>, <em>xDomainUnionOnly=False</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.union"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.union" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an endl2dmath instance with its x values being a union of self&#8217;s
and other&#8217;s x values.  The y values are self&#8217;s y values mapped onto
the union&#8217;s x values. If xDomainUnionOnly is True then only the x domain
common to self and other is returned.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.vectorScale">
<tt class="descname">vectorScale</tt><big>(</big><em>vector</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.vectorScale"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.vectorScale" title="Permalink to this definition">¶</a></dt>
<dd><p>Scales the y value of self at x by vector evaluated at x.  Only self&#8217;s data within the x range of vector are modified.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.vectorScaleAdd">
<tt class="descname">vectorScaleAdd</tt><big>(</big><em>vector</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.vectorScaleAdd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.vectorScaleAdd" title="Permalink to this definition">¶</a></dt>
<dd><p>Scales the y value of self at x by vector evaluated at x.
Only self&#8217;s data within the x range of vector are modified.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.xArray">
<tt class="descname">xArray</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.xArray"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.xArray" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an endl1dmath instances of the x values in self.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.xMax">
<tt class="descname">xMax</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.xMax"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.xMax" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the maximum x value of self if self contains data, otherwise it returns None.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.xMin">
<tt class="descname">xMin</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.xMin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.xMin" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the minimum x value of self if self contains data, otherwise it returns None.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.yMax">
<tt class="descname">yMax</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.yMax"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.yMax" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the maximum y value of self if self contains data, otherwise it returns None.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.yMin">
<tt class="descname">yMin</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.yMin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.yMin" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the minimum y value of self if self contains data, otherwise it returns None.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl2dmathClasses.endl2dmath.yMinMax">
<tt class="descname">yMinMax</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathClasses.html#endl2dmath.yMinMax"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathClasses.endl2dmath.yMinMax" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the tuple of the minimum and maximum y values of self if self contains data, otherwise it returns ( None, None ).</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-fudge.core.math.endl2dmathmisc">
<span id="endl2dmathmisc-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">endl2dmathmisc</span></tt> Module<a class="headerlink" href="#module-fudge.core.math.endl2dmathmisc" title="Permalink to this headline">¶</a></h2>
<p>This module contains miscellaneous routines for supporting the endl2dmath class from module endl2dmathClasses.</p>
<dl class="docutils">
<dt>Module&#8217;s global variables::</dt>
<dd>endl2d_repr_xFormat : Default format string used for converting an x-element of the data of an endl2dmath object to a string.
endl2d_repr_yFormat : Default format string used for converting an y-element of the data of an endl2dmath object to a string.</dd>
</dl>
<dl class="function">
<dt id="fudge.core.math.endl2dmathmisc.XML2dPointwiseToList">
<tt class="descclassname">fudge.core.math.endl2dmathmisc.</tt><tt class="descname">XML2dPointwiseToList</tt><big>(</big><em>data</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathmisc.html#XML2dPointwiseToList"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathmisc.XML2dPointwiseToList" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fudge.core.math.endl2dmathmisc.check2dData">
<tt class="descclassname">fudge.core.math.endl2dmathmisc.</tt><tt class="descname">check2dData</tt><big>(</big><em>data</em>, <em>allowNegativeX=True</em>, <em>allowSameX=False</em>, <em>allowZeroX=True</em>, <em>positiveY=True</em>, <em>printWarning=True</em>, <em>printErrors=True</em>, <em>xCloseEps=None</em>, <em>formatCode=12</em>, <em>maxAbsFloatValue=None</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathmisc.html#check2dData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathmisc.check2dData" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks that data (or data.data if data is an endl2dmath instance) is a list containing
valid endl2dmath points. If positiveY is true (default) then a negative y value
generates a raise.  If positiveY is false then the number of negative y values
is counted and the count is returned. The x values must be in increasing order
else a raise is generated. If allowZeroX is False, a zero first x value will generate a 
raise. Also all x values must be positive unless allowNegativeX
is true. If printWarning is true than close x value warnings are printed. X values 
x1 and x2 are considered close if x2 - x1 &lt; xCloseEps * ( x1 + x2 ). If on input xCloseEps
is None, the it is set to parameters.endlEpsx * pow( 0.1, formatCode - 14 ) / 3. 
If on input formatCode is 12 then it is set to 14.
This function returns an integer and an array. The integer is the number of negative
y values and the array is a list of all indices with close x-values. If printWarning
is &#8216;True&#8217; than warnings are printed (warning will not execute a raise). If printErrors 
is &#8216;True&#8217; then errors are printed, and if at least one error exist, a raise will be 
executed after all data has been checked.</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.endl2dmathmisc.check2dPoint">
<tt class="descclassname">fudge.core.math.endl2dmathmisc.</tt><tt class="descname">check2dPoint</tt><big>(</big><em>p</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathmisc.html#check2dPoint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathmisc.check2dPoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks that p is the list [ number, number ]. A raise is generated if p is not.</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.endl2dmathmisc.convertFunctionToLinLin">
<tt class="descclassname">fudge.core.math.endl2dmathmisc.</tt><tt class="descname">convertFunctionToLinLin</tt><big>(</big><em>f</em>, <em>xMin</em>, <em>xMax</em>, <em>accuracy</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathmisc.html#convertFunctionToLinLin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathmisc.convertFunctionToLinLin" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a new endl2dmath object that represents the function f(x) as a lin-lin table to 
the specified absolute accuracy on the interval xMin to xMax.</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.endl2dmathmisc.convertLogLogToLinLin">
<tt class="descclassname">fudge.core.math.endl2dmathmisc.</tt><tt class="descname">convertLogLogToLinLin</tt><big>(</big><em>self</em>, <em>accuracy</em>, <em>diSectionMax=3</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathmisc.html#convertLogLogToLinLin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathmisc.convertLogLogToLinLin" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a new endl2dmath object of self converted from log-log to lin-lin to specified accuracy.</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.endl2dmathmisc.dullLowerEdge2d">
<tt class="descclassname">fudge.core.math.endl2dmathmisc.</tt><tt class="descname">dullLowerEdge2d</tt><big>(</big><em>d</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathmisc.html#dullLowerEdge2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathmisc.dullLowerEdge2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Dulls the lower edge of d if the y value at that edge is not 0.  d must be an endl2dmath instance.</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.endl2dmathmisc.dullUpperEdge2d">
<tt class="descclassname">fudge.core.math.endl2dmathmisc.</tt><tt class="descname">dullUpperEdge2d</tt><big>(</big><em>d</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathmisc.html#dullUpperEdge2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathmisc.dullUpperEdge2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Dulls the upper edge of d if the y value at that edge is not 0.  d must be an endl2dmath instance.</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.endl2dmathmisc.dulledges2d">
<tt class="descclassname">fudge.core.math.endl2dmathmisc.</tt><tt class="descname">dulledges2d</tt><big>(</big><em>d</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathmisc.html#dulledges2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathmisc.dulledges2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls dullLowerEdge2d( d ) and dullUpperEdge2d( d ).</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.endl2dmathmisc.flattop2d">
<tt class="descclassname">fudge.core.math.endl2dmathmisc.</tt><tt class="descname">flattop2d</tt><big>(</big><em>xMin</em>, <em>xMax</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathmisc.html#flattop2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathmisc.flattop2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an endl2dmath instance of a flattop from xMin to xMax with height 1.  0 &lt; xMin &lt; xMax.</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.endl2dmathmisc.flattop2dDull">
<tt class="descclassname">fudge.core.math.endl2dmathmisc.</tt><tt class="descname">flattop2dDull</tt><big>(</big><em>xMin</em>, <em>xMax</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathmisc.html#flattop2dDull"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathmisc.flattop2dDull" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the endl2dmath instances returned by flattop2d( xMin, xMax ) and that is dulled using dulledges2d( ).</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.endl2dmathmisc.gauss2d">
<tt class="descclassname">fudge.core.math.endl2dmathmisc.</tt><tt class="descname">gauss2d</tt><big>(</big><em>xc</em>, <em>xw</em>, <em>f=0.001</em>, <em>xsigmax=4</em>, <em>xMin=None</em>, <em>xMax=None</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathmisc.html#gauss2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathmisc.gauss2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an endl2dmath instance the has a Gaussian shape centered at xc with
width xw (i.e., Exp( -( (x - xc) / xw )^2 / 2 ).  The points are generated 
such that linear interpolation is accurate to f.  The x value&#8217;s range is limited 
by xMin, xMax and abs(x - xc) / xw &lt;= xsigmax.</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.endl2dmathmisc.gauss2dDull">
<tt class="descclassname">fudge.core.math.endl2dmathmisc.</tt><tt class="descname">gauss2dDull</tt><big>(</big><em>xc</em>, <em>xw</em>, <em>f=0.001</em>, <em>xsigmax=4</em>, <em>xMin=None</em>, <em>xMax=None</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathmisc.html#gauss2dDull"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathmisc.gauss2dDull" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an endl2dmath instance of gauss2d( xc, xw, f, xsigmax, xMin, xMax ) that is dulled using dulledges2d( ).</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.endl2dmathmisc.get2dmathData">
<tt class="descclassname">fudge.core.math.endl2dmathmisc.</tt><tt class="descname">get2dmathData</tt><big>(</big><em>object</em>, <em>callingRoutine</em>, <em>msg</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathmisc.html#get2dmathData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathmisc.get2dmathData" title="Permalink to this definition">¶</a></dt>
<dd><p>If object is a python list, then it is returned. Else, if object is a sub-class 
of endl2dmath its data is return otherwise a raise is executed.</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.endl2dmathmisc.interpolate2dPoints">
<tt class="descclassname">fudge.core.math.endl2dmathmisc.</tt><tt class="descname">interpolate2dPoints</tt><big>(</big><em>interpolation</em>, <em>x</em>, <em>x1</em>, <em>y1</em>, <em>x2</em>, <em>y2</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathmisc.html#interpolate2dPoints"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathmisc.interpolate2dPoints" title="Permalink to this definition">¶</a></dt>
<dd><p>This function interpolates y at x where x1 &lt;= x &lt;= x2 using interpolation.</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.endl2dmathmisc.interpolate_X">
<tt class="descclassname">fudge.core.math.endl2dmathmisc.</tt><tt class="descname">interpolate_X</tt><big>(</big><em>data</em>, <em>x</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathmisc.html#interpolate_X"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathmisc.interpolate_X" title="Permalink to this definition">¶</a></dt>
<dd><p>For internal use only.</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.endl2dmathmisc.list2dToXMLPointwiseString">
<tt class="descclassname">fudge.core.math.endl2dmathmisc.</tt><tt class="descname">list2dToXMLPointwiseString</tt><big>(</big><em>data</em>, <em>varString=''</em>, <em>indent=''</em>, <em>floatFormat='%s'</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathmisc.html#list2dToXMLPointwiseString"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathmisc.list2dToXMLPointwiseString" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fudge.core.math.endl2dmathmisc.point2d">
<tt class="descclassname">fudge.core.math.endl2dmathmisc.</tt><tt class="descname">point2d</tt><big>(</big><em>x</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathmisc.html#point2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathmisc.point2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an endl2dmath instance of [ x, 1. ].</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.endl2dmathmisc.point2dDull">
<tt class="descclassname">fudge.core.math.endl2dmathmisc.</tt><tt class="descname">point2dDull</tt><big>(</big><em>x</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathmisc.html#point2dDull"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathmisc.point2dDull" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an endl2dmath instance of point2d( x ) that is dulled using dulledges2d( ).</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.endl2dmathmisc.ramp2d">
<tt class="descclassname">fudge.core.math.endl2dmathmisc.</tt><tt class="descname">ramp2d</tt><big>(</big><em>xMin</em>, <em>xMax</em>, <em>down=0</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathmisc.html#ramp2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathmisc.ramp2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an endl2dmath instance of a ramp from xMin to xMax with height
0 at xMin and 1 at xMax if down = 0, and 1 at xMin and 0 at xMax otherwise.</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.endl2dmathmisc.ramp2dDull">
<tt class="descclassname">fudge.core.math.endl2dmathmisc.</tt><tt class="descname">ramp2dDull</tt><big>(</big><em>xMin</em>, <em>xMax</em>, <em>down=0</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathmisc.html#ramp2dDull"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathmisc.ramp2dDull" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the endl2dmath instances returned by ramp2d( xMin, xMax, ramp ) and that is dulled
using dulledges2d( ).</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.endl2dmathmisc.triangle2d">
<tt class="descclassname">fudge.core.math.endl2dmathmisc.</tt><tt class="descname">triangle2d</tt><big>(</big><em>x0</em>, <em>x1</em>, <em>x2</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathmisc.html#triangle2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathmisc.triangle2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an endl2dmath instance of a triangle that starts at x0 with height 0,
ramps up to 1 at x1 and ramps down to 0 at x2.</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.endl2dmathmisc.valid2dClassType">
<tt class="descclassname">fudge.core.math.endl2dmathmisc.</tt><tt class="descname">valid2dClassType</tt><big>(</big><em>object</em>, <em>callingRoutine</em>, <em>msg</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl2dmathmisc.html#valid2dClassType"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl2dmathmisc.valid2dClassType" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the first argument, object, if it is a subclass of the endl2dmath class; else, triggers a raise.</p>
</dd></dl>

</div>
<div class="section" id="module-fudge.core.math.endl3dmathClasses">
<span id="endl3dmathclasses-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">endl3dmathClasses</span></tt> Module<a class="headerlink" href="#module-fudge.core.math.endl3dmathClasses" title="Permalink to this headline">¶</a></h2>
<p>This module contains the endl3dmath class.  Also see the supporting module endl3dmathmisc.py.</p>
<dl class="class">
<dt id="fudge.core.math.endl3dmathClasses.endl3dmath">
<em class="property">class </em><tt class="descclassname">fudge.core.math.endl3dmathClasses.</tt><tt class="descname">endl3dmath</tt><big>(</big><em>data=None</em>, <em>checkDataType=False</em>, <em>xLabel=None</em>, <em>yLabel=None</em>, <em>zLabel=None</em>, <em>label='unknown'</em>, <em>interpolation=0</em>, <em>template=None</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl3dmathClasses.html#endl3dmath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl3dmathClasses.endl3dmath" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>This class is designed to support operations on a list of 3-column number data that may be useful to scientists.
(A number is an integer or a float.) In this documenation the three columns are referred to as x, y and z.
The data is to be stored as a python list of [ x, yz-data-for-x ], where yz-data-for-x is a list of
[ y, z ] data. For example, consider the 3 column data:</p>
<div class="highlight-python"><pre>1 1 1
1 2 2
1 3 1
2 1 1
2 2 0
2 4 0
3 2 0
3 3 1
3 4 2</pre>
</div>
<p>This data is stored using python lists as</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="p">[</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span> <span class="p">],</span> <span class="p">[</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span> <span class="p">],</span> <span class="p">[</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span> <span class="p">]</span> <span class="p">]</span> <span class="p">],</span>
  <span class="p">[</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span> <span class="p">],</span> <span class="p">[</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span> <span class="p">],</span> <span class="p">[</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span> <span class="p">]</span> <span class="p">]</span> <span class="p">]</span>
  <span class="p">[</span> <span class="mi">3</span><span class="p">,</span> <span class="p">[</span> <span class="p">[</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span> <span class="p">],</span> <span class="p">[</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span> <span class="p">],</span> <span class="p">[</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span> <span class="p">]</span> <span class="p">]</span> <span class="p">]</span> <span class="p">]</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Members::</dt>
<dd>data        | A python list of numbers.
columns     | This is always 3 as this is 1d data.
xLabel      | Labelled used as the x-Label when plotting.
yLabel      | Labelled used as the y-Label when plotting.
zLabel      | Labelled used as the z-Label when plotting.</dd>
</dl>
<dl class="method">
<dt id="fudge.core.math.endl3dmathClasses.endl3dmath.copyData">
<tt class="descname">copyData</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl3dmathClasses.html#endl3dmath.copyData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl3dmathClasses.endl3dmath.copyData" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an endl3dmath instance that is a copy, and not a reference, of self.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl3dmathClasses.endl3dmath.getAtX">
<tt class="descname">getAtX</tt><big>(</big><em>x</em>, <em>unitBase=False</em>, <em>extrapolation='noExtrapolation'</em>, <em>endl2dmathObject=False</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl3dmathClasses.html#endl3dmath.getAtX"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl3dmathClasses.endl3dmath.getAtX" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls endl3dmathmisc.interpolate3d to get self&#8217;s yz data at x.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl3dmathClasses.endl3dmath.getValue">
<tt class="descname">getValue</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl3dmathClasses.html#endl3dmath.getValue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl3dmathClasses.endl3dmath.getValue" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns self&#8217;s z value evaluated at (x, y). If x (y) is outside the range
of self&#8217;s x (y) domain then 0. is returned.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl3dmathClasses.endl3dmath.plot">
<tt class="descname">plot</tt><big>(</big><em>xMin=None</em>, <em>xMax=None</em>, <em>yMin=None</em>, <em>yMax=None</em>, <em>zMin=None</em>, <em>zMax=None</em>, <em>xyzlog=0</em>, <em>xLabel=None</em>, <em>yLabel=None</em>, <em>zLabel=None</em>, <em>title=None</em>, <em>xrot=None</em>, <em>zrot=None</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl3dmathClasses.html#endl3dmath.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl3dmathClasses.endl3dmath.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the data.</p>
<dl class="docutils">
<dt>xyzlog values and meaning::</dt>
<dd><blockquote class="first">
<div>xyzlog   plot-type for x-y-z axis</div></blockquote>
<blockquote class="last">
<div>0     linear-linear-linear
1     log-linear-linear
2     linear-log-linear
3     log-log-linear
4     linear-linear-log
5     log-linear-log
6     linear-log-log
7     log-log-log</div></blockquote>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl3dmathClasses.endl3dmath.setAtX">
<tt class="descname">setAtX</tt><big>(</big><em>x</em>, <em>data</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl3dmathClasses.html#endl3dmath.setAtX"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl3dmathClasses.endl3dmath.setAtX" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets self&#8217;s yz data at x to data. Data can be a endl2dmath object.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl3dmathClasses.endl3dmath.toString">
<tt class="descname">toString</tt><big>(</big><em>format=None</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl3dmathClasses.html#endl3dmath.toString"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl3dmathClasses.endl3dmath.toString" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the string returned by the endl3dmath&#8217;s __repr__ function. This can be useful when endl3dmath is used as a base class.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl3dmathClasses.endl3dmath.toStringWithPrefixSuffix">
<tt class="descname">toStringWithPrefixSuffix</tt><big>(</big><em>Prefix=''</em>, <em>Suffix=''</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl3dmathClasses.html#endl3dmath.toStringWithPrefixSuffix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl3dmathClasses.endl3dmath.toStringWithPrefixSuffix" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a printable string of the data in self with Prefix and Suffix append to each line.
See __repr__ to change the output format.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl3dmathClasses.endl3dmath.xArray">
<tt class="descname">xArray</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl3dmathClasses.html#endl3dmath.xArray"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl3dmathClasses.endl3dmath.xArray" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an endl1dmath instances of the x values in self.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl3dmathClasses.endl3dmath.xMax">
<tt class="descname">xMax</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl3dmathClasses.html#endl3dmath.xMax"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl3dmathClasses.endl3dmath.xMax" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the maximum x value of self if self contains data, otherwise it returns None.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl3dmathClasses.endl3dmath.xMin">
<tt class="descname">xMin</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl3dmathClasses.html#endl3dmath.xMin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl3dmathClasses.endl3dmath.xMin" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the minimum x value of self if self contains data, otherwise it returns None.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-fudge.core.math.endl3dmathmisc">
<span id="endl3dmathmisc-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">endl3dmathmisc</span></tt> Module<a class="headerlink" href="#module-fudge.core.math.endl3dmathmisc" title="Permalink to this headline">¶</a></h2>
<p>This module contains miscellaneous routines for supporting the endl3dmath class from module endl3dmathClasses.</p>
<dl class="docutils">
<dt>Module&#8217;s global variables::</dt>
<dd>endl3d_repr_xFormat : Default format string used for converting an x-element of the data of an endl3dmath object to a string.
endl3d_repr_yFormat : Default format string used for converting an y-element of the data of an endl3dmath object to a string.
endl3d_repr_zFormat : Default format string used for converting an z-element of the data of an endl3dmath object to a string.</dd>
</dl>
<dl class="function">
<dt id="fudge.core.math.endl3dmathmisc.check3dData">
<tt class="descclassname">fudge.core.math.endl3dmathmisc.</tt><tt class="descname">check3dData</tt><big>(</big><em>data</em>, <em>allowNegativeX=False</em>, <em>allowZeroX=True</em>, <em>allowNegativeY=False</em>, <em>allowSameY=False</em>, <em>allowZeroY=True</em>, <em>positiveZ=False</em>, <em>printWarning=True</em>, <em>printErrors=True</em>, <em>xCloseEps=None</em>, <em>maxAbsFloatValue=None</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl3dmathmisc.html#check3dData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl3dmathmisc.check3dData" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks that data is a valid structure for endl3dmath data. Triggers a raise if it is not.  Data may be
an instance that is a subclass of endl3dmath or a python list as required by endl3dmath. If allowZeroX is 
False, a zero first x value will generate a raise. If allowNegativeX is true than the x data can have negative 
values (ENDL 3d-data has projectile energy as the x-data which must always be &gt; 0. ). See endl2dmathmisc.check2dData&#8217;s 
allowSameX, allowZeroX, positiveY and xCloseEps argument for meaning of allowSameY, allowZeroY, positiveZ and 
xCloseEps respectively.  If printErrors is &#8216;True&#8217; then errors are printed, and if at least one error exist, a 
raise will be executed.  printWarning is just passed on to endl2dmathmisc.check2dData.</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.endl3dmathmisc.get3dmathData">
<tt class="descclassname">fudge.core.math.endl3dmathmisc.</tt><tt class="descname">get3dmathData</tt><big>(</big><em>object</em>, <em>callingRoutine</em>, <em>msg</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl3dmathmisc.html#get3dmathData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl3dmathmisc.get3dmathData" title="Permalink to this definition">¶</a></dt>
<dd><p>If object is a python list, then it is returned. Else, if object is a sub-class
of endl3dmath its data is return otherwise a raise is executed.</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.endl3dmathmisc.interpolate3d">
<tt class="descclassname">fudge.core.math.endl3dmathmisc.</tt><tt class="descname">interpolate3d</tt><big>(</big><em>x</em>, <em>data</em>, <em>unitBase=False</em>, <em>extrapolation='noExtrapolation'</em>, <em>endl2dmathObject=False</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl3dmathmisc.html#interpolate3d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl3dmathmisc.interpolate3d" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the interpolation of data (an endl3dmath object or suitable data)
at x as a list of [y,z] pairs.  If x is outside the domain of data, then [] 
is returned. If x is one of the x-values of data, then its yz-data is returned.
Otherwise, for xl &lt; x &lt; xu where xl and xu are consecutive x-values in data 
linear interpolation is performed on the yz data of xl and xu.  If unitBase is 
True, then unit base interpolation is performed.</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.endl3dmathmisc.interpolate_XY">
<tt class="descclassname">fudge.core.math.endl3dmathmisc.</tt><tt class="descname">interpolate_XY</tt><big>(</big><em>data</em>, <em>x</em>, <em>y</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl3dmathmisc.html#interpolate_XY"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl3dmathmisc.interpolate_XY" title="Permalink to this definition">¶</a></dt>
<dd><p>For internal use only.</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.endl3dmathmisc.valid3dClassType">
<tt class="descclassname">fudge.core.math.endl3dmathmisc.</tt><tt class="descname">valid3dClassType</tt><big>(</big><em>object</em>, <em>callingRoutine</em>, <em>msg</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl3dmathmisc.html#valid3dClassType"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl3dmathmisc.valid3dClassType" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the first argument, object, if it is a subclass of the endl3dmath class; else, triggers a raise.</p>
</dd></dl>

</div>
<div class="section" id="module-fudge.core.math.endl4dmathClasses">
<span id="endl4dmathclasses-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">endl4dmathClasses</span></tt> Module<a class="headerlink" href="#module-fudge.core.math.endl4dmathClasses" title="Permalink to this headline">¶</a></h2>
<p>This module contains the endl4dmath class. Also see the supporting module endl4dmathmisc.py.</p>
<dl class="class">
<dt id="fudge.core.math.endl4dmathClasses.endl4dmath">
<em class="property">class </em><tt class="descclassname">fudge.core.math.endl4dmathClasses.</tt><tt class="descname">endl4dmath</tt><big>(</big><em>data</em>, <em>checkDataType=False</em>, <em>tLabel=None</em>, <em>xLabel=None</em>, <em>yLabel=None</em>, <em>zLabel=None</em>, <em>label='unknown'</em>, <em>interpolation=0</em>, <em>template=None</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl4dmathClasses.html#endl4dmath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl4dmathClasses.endl4dmath" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>This class is designed to support operations on a list of 4-column number data that may be useful to scientists.
(A number is an integer or a float.) In this documenation the four columns are referred to as t, x, y and z.
The data is to be stored as a python list of [ t, xyz-data-for-t ], where xyz-data-for-t is a list of
[ x, yz-data-for-x ] and yz-data-for-x is a list of [ y, z ] data. For example, consider the 4 column data:</p>
<div class="highlight-python"><pre>1 1 1 1
1 1 2 2
1 1 3 1
1 2 1 1
1 2 2 0
1 2 4 0
3 1 1 1
3 1 2 3
4 2 2 0
4 2 3 1
4 2 4 2</pre>
</div>
<p>For this data there are 3 different t-values.  The length of this data is 3, for the 3 different t-values.
The first t-value has the data:</p>
<div class="highlight-python"><pre>1 1 1
1 2 2
1 3 1
2 1 1
2 2 0
2 4 0</pre>
</div>
<dl class="docutils">
<dt>for which there are 2 x values, and the first having the data::</dt>
<dd>1 1
2 2 
3 1</dd>
</dl>
<p>All this data is stored using python lists as</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="p">[</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="p">[</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span> <span class="p">],</span>
                <span class="p">[</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span> <span class="p">],</span>
                <span class="p">[</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span> <span class="p">]</span>
              <span class="p">]</span>
         <span class="p">],</span>
         <span class="p">[</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span> <span class="p">],</span>
                <span class="p">[</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span> <span class="p">],</span>
                <span class="p">[</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span> <span class="p">]</span>
              <span class="p">]</span>
         <span class="p">]</span>
       <span class="p">]</span>
  <span class="p">]</span>
  <span class="p">[</span> <span class="mi">3</span><span class="p">,</span> <span class="p">[</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="p">[</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span> <span class="p">],</span>
                <span class="p">[</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span> <span class="p">]</span>
              <span class="p">]</span>
         <span class="p">]</span>
       <span class="p">]</span>
  <span class="p">]</span>
  <span class="p">[</span> <span class="mi">4</span><span class="p">,</span> <span class="p">[</span> <span class="p">[</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span> <span class="p">[</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span> <span class="p">],</span>
                <span class="p">[</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span> <span class="p">],</span>
                <span class="p">[</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span> <span class="p">]</span>
              <span class="p">]</span>
         <span class="p">]</span>
       <span class="p">]</span>
  <span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Note, the xyz data is store like the data in an endl3dmath class. That is, endl3dmath data looks like a list of [ t, 3d-data ].
However, the 3d part is not an endl3dmath class but is structured like the data in an endl3dmath class. Thus, to plot
the xyz data for the (i+1)^th t-value of an endl4dmath instance fourD, create an endl3dmath object of the data as endl3dmath( fourD.data[i][1] )
and use the endl3dmath plot method.</p>
<dl class="docutils">
<dt>Members::</dt>
<dd>data        | A python list of numbers.
columns     | This is always 4 as this is 1d data.
tLabel      | Labelled used as the t-Label when plotting.
xLabel      | Labelled used as the x-Label when plotting.
yLabel      | Labelled used as the y-Label when plotting.
zLabel      | Labelled used as the z-Label when plotting.</dd>
</dl>
<dl class="method">
<dt id="fudge.core.math.endl4dmathClasses.endl4dmath.copyData">
<tt class="descname">copyData</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl4dmathClasses.html#endl4dmath.copyData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl4dmathClasses.endl4dmath.copyData" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an endl4dmath instance that is a copy, and not a reference, of self.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl4dmathClasses.endl4dmath.ll">
<tt class="descname">ll</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl4dmathClasses.html#endl4dmath.ll"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl4dmathClasses.endl4dmath.ll" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as __repr__( ).</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl4dmathClasses.endl4dmath.ls">
<tt class="descname">ls</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl4dmathClasses.html#endl4dmath.ls"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl4dmathClasses.endl4dmath.ls" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the number of items in the top list of self and then the number of items in each item of the top list.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl4dmathClasses.endl4dmath.plot">
<tt class="descname">plot</tt><big>(</big><em>xMin=None</em>, <em>xMax=None</em>, <em>yMin=None</em>, <em>yMax=None</em>, <em>zMin=None</em>, <em>zMax=None</em>, <em>xyzlog=0</em>, <em>tLabel=None</em>, <em>xLabel=None</em>, <em>yLabel=None</em>, <em>zLabel=None</em>, <em>title=None</em>, <em>tScaleLabel=None</em>, <em>xrot=None</em>, <em>zrot=None</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl4dmathClasses.html#endl4dmath.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl4dmathClasses.endl4dmath.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the data.</p>
<dl class="docutils">
<dt>xyzlog values and meaning::</dt>
<dd><blockquote class="first">
<div>xyzlog   plot-type for x-y-z axis</div></blockquote>
<blockquote class="last">
<div>0     linear-linear-linear
1     log-linear-linear
2     linear-log-linear
3     log-log-linear
4     linear-linear-log
5     log-linear-log
6     linear-log-log
7     log-log-log</div></blockquote>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl4dmathClasses.endl4dmath.tArray">
<tt class="descname">tArray</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl4dmathClasses.html#endl4dmath.tArray"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl4dmathClasses.endl4dmath.tArray" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an endl1dmath instances of the t values in self.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl4dmathClasses.endl4dmath.tMax">
<tt class="descname">tMax</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl4dmathClasses.html#endl4dmath.tMax"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl4dmathClasses.endl4dmath.tMax" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the maximum t value of self if self contains data, otherwise it returns None.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl4dmathClasses.endl4dmath.tMin">
<tt class="descname">tMin</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl4dmathClasses.html#endl4dmath.tMin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl4dmathClasses.endl4dmath.tMin" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the minimum t value of self if self contains data, otherwise it returns None.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl4dmathClasses.endl4dmath.toString">
<tt class="descname">toString</tt><big>(</big><em>format=None</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl4dmathClasses.html#endl4dmath.toString"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl4dmathClasses.endl4dmath.toString" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the string returned by the endl4dmath&#8217;s __repr__ function. This can be useful when endl4dmath is used as a base class.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.endl4dmathClasses.endl4dmath.toStringWithPrefixSuffix">
<tt class="descname">toStringWithPrefixSuffix</tt><big>(</big><em>Prefix=''</em>, <em>Suffix=''</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl4dmathClasses.html#endl4dmath.toStringWithPrefixSuffix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl4dmathClasses.endl4dmath.toStringWithPrefixSuffix" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a printable string of the data in self with Prefix and Suffix append to each line.
See __repr__ to change the output format.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-fudge.core.math.endl4dmathmisc">
<span id="endl4dmathmisc-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">endl4dmathmisc</span></tt> Module<a class="headerlink" href="#module-fudge.core.math.endl4dmathmisc" title="Permalink to this headline">¶</a></h2>
<p>This module contains miscellaneous routines for supporting the endl4dmath class from module endl4dmathClasses.</p>
<dl class="docutils">
<dt>Module&#8217;s global variables::</dt>
<dd>endl4d_repr_tFormat : Default format string used for converting an t-element of the data of an endl4dmath object to a string.
endl4d_repr_xFormat : Default format string used for converting an x-element of the data of an endl4dmath object to a string.
endl4d_repr_yFormat : Default format string used for converting an y-element of the data of an endl4dmath object to a string.
endl4d_repr_zFormat : Default format string used for converting an z-element of the data of an endl4dmath object to a string.</dd>
</dl>
<dl class="function">
<dt id="fudge.core.math.endl4dmathmisc.check4dData">
<tt class="descclassname">fudge.core.math.endl4dmathmisc.</tt><tt class="descname">check4dData</tt><big>(</big><em>data</em>, <em>allowNegativeT=False</em>, <em>allowZeroT=True</em>, <em>allowNegativeX=False</em>, <em>allowZeroX=True</em>, <em>allowSameY=False</em>, <em>allowNegativeY=False</em>, <em>allowZeroY=True</em>, <em>positiveZ=False</em>, <em>printWarning=True</em>, <em>printErrors=True</em>, <em>xCloseEps=None</em>, <em>maxAbsFloatValue=None</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl4dmathmisc.html#check4dData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl4dmathmisc.check4dData" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks that data is a valid structure for endl4dmath data. Triggers a raise if it is not.  Data may be
an instance that is a subclass of endl4dmath or a python list as required by endl4dmath. If allowZeroT is False, 
a zero first t value will generate a raise.If allowNegativeT is true than the t data can have negative values 
(many ENDL 4d-data have projectile energy as the t-data which must always be positive). For meanings of 
allowNegativeX, allowZeroX, allowSameY, allowNegativeY, allowZeroY, positiveZ and xCloseEps see endl3dmathmisc.check3dData.
If printErrors is &#8216;True&#8217; then errors are printed, and if at least one error exist, a raise will be executed.  
printWarning is just passed on to endl3dmathmisc.check3dData.</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.endl4dmathmisc.get4dmathData">
<tt class="descclassname">fudge.core.math.endl4dmathmisc.</tt><tt class="descname">get4dmathData</tt><big>(</big><em>object</em>, <em>callingRoutine</em>, <em>msg</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl4dmathmisc.html#get4dmathData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl4dmathmisc.get4dmathData" title="Permalink to this definition">¶</a></dt>
<dd><p>If object is a python list, then it is returned. Else, if object is a sub-class
of endl4dmath its data is return otherwise a raise is executed.</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.endl4dmathmisc.plot3dFrom4d">
<tt class="descclassname">fudge.core.math.endl4dmathmisc.</tt><tt class="descname">plot3dFrom4d</tt><big>(</big><em>data</em>, <em>i</em>, <em>options</em>, <em>xyzlog=0</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl4dmathmisc.html#plot3dFrom4d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl4dmathmisc.plot3dFrom4d" title="Permalink to this definition">¶</a></dt>
<dd><p>For internal use only.</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.endl4dmathmisc.string4dData">
<tt class="descclassname">fudge.core.math.endl4dmathmisc.</tt><tt class="descname">string4dData</tt><big>(</big><em>d</em>, <em>i0=0</em>, <em>i1=1</em>, <em>i2=2</em>, <em>i3=3</em>, <em>fmt0=None</em>, <em>fmt1=None</em>, <em>fmt2=None</em>, <em>fmt3=None</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl4dmathmisc.html#string4dData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl4dmathmisc.string4dData" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of strings for data d.  D must be list[ number, list[ number, list[ number, number ] ] ].</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.endl4dmathmisc.valid4dClassType">
<tt class="descclassname">fudge.core.math.endl4dmathmisc.</tt><tt class="descname">valid4dClassType</tt><big>(</big><em>object</em>, <em>callingRoutine</em>, <em>msg</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/endl4dmathmisc.html#valid4dClassType"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.endl4dmathmisc.valid4dClassType" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the first argument, object, if it is a subclass of the endl4dmath class; else, triggers a raise.</p>
</dd></dl>

</div>
<div class="section" id="module-fudge.core.math.fudge2dGrouping">
<span id="fudge2dgrouping-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">fudge2dGrouping</span></tt> Module<a class="headerlink" href="#module-fudge.core.math.fudge2dGrouping" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="fudge.core.math.fudge2dGrouping.groupedData">
<em class="property">class </em><tt class="descclassname">fudge.core.math.fudge2dGrouping.</tt><tt class="descname">groupedData</tt><big>(</big><em>data</em>, <em>axes_=None</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/fudge2dGrouping.html#groupedData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.fudge2dGrouping.groupedData" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<dl class="method">
<dt id="fudge.core.math.fudge2dGrouping.groupedData.getData">
<tt class="descname">getData</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/fudge2dGrouping.html#groupedData.getData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.fudge2dGrouping.groupedData.getData" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the data of self.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.fudge2dGrouping.groupedData.getEnd">
<tt class="descname">getEnd</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/fudge2dGrouping.html#groupedData.getEnd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.fudge2dGrouping.groupedData.getEnd" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the index of the last non-zero data in self.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.fudge2dGrouping.groupedData.getStart">
<tt class="descname">getStart</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/fudge2dGrouping.html#groupedData.getStart"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.fudge2dGrouping.groupedData.getStart" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the index of the first non-zero data in self.</p>
</dd></dl>

<dl class="classmethod">
<dt id="fudge.core.math.fudge2dGrouping.groupedData.parseXMLNode">
<em class="property">classmethod </em><tt class="descname">parseXMLNode</tt><big>(</big><em>form</em>, <em>linkData={}</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/fudge2dGrouping.html#groupedData.parseXMLNode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.fudge2dGrouping.groupedData.parseXMLNode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fudge.core.math.fudge2dGrouping.groupedData.toString">
<tt class="descname">toString</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/fudge2dGrouping.html#groupedData.toString"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.fudge2dGrouping.groupedData.toString" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fudge.core.math.fudge2dGrouping.groupedData.toXMLList">
<tt class="descname">toXMLList</tt><big>(</big><em>indent=''</em>, <em>floatFormat='%16.9e'</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/fudge2dGrouping.html#groupedData.toXMLList"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.fudge2dGrouping.groupedData.toXMLList" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-fudge.core.math.fudgemath">
<span id="fudgemath-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">fudgemath</span></tt> Module<a class="headerlink" href="#module-fudge.core.math.fudgemath" title="Permalink to this headline">¶</a></h2>
<p>This module contains useful fudge math routines that do not fit into any other module.</p>
<p>cmattoon 3/2011: math functions from fudgemisc moved here</p>
<dl class="function">
<dt id="fudge.core.math.fudgemath.Legendre">
<tt class="descclassname">fudge.core.math.fudgemath.</tt><tt class="descname">Legendre</tt><big>(</big><em>n</em>, <em>x</em>, <em>checkXRange=True</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/fudgemath.html#Legendre"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.fudgemath.Legendre" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the value of the Legendre function of order n at x.  For n &lt;= 10, use analytical form, 
for n &gt; 10 use the recursive relationship. (This would be way faster in C or using numpy version)</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.fudgemath.LegendreSeries">
<tt class="descclassname">fudge.core.math.fudgemath.</tt><tt class="descname">LegendreSeries</tt><big>(</big><em>coefficients</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/fudgemath.html#LegendreSeries"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.fudgemath.LegendreSeries" title="Permalink to this definition">¶</a></dt>
<dd><p>return a function to evaluate the Legendre series with given coefficients:
&gt;&gt;&gt;foo = LegendreSeries([1.0,0,0,0.85])
&gt;&gt;&gt;foo(0.5) == 1.0*Legendre(0,0.5) + 0.85*Legendre(3,0.5)
[True]
Beware: coefficients as stored in ENDF must be multiplied by factor of (2*L+1)/2</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.fudgemath.YSum">
<tt class="descclassname">fudge.core.math.fudgemath.</tt><tt class="descname">YSum</tt><big>(</big><em>data</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/fudgemath.html#YSum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.fudgemath.YSum" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the area under the curve y(x). Data must be list of list( x, y ).</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.fudgemath.ZSum">
<tt class="descclassname">fudge.core.math.fudgemath.</tt><tt class="descname">ZSum</tt><big>(</big><em>data</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/fudgemath.html#ZSum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.fudgemath.ZSum" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the area under the curve z(y) for each x as an endl2dmath object. Data must be list of
( x, list of ( y, z ) ).</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.fudgemath.checkForNaN">
<tt class="descclassname">fudge.core.math.fudgemath.</tt><tt class="descname">checkForNaN</tt><big>(</big><em>v</em>, <em>str</em>, <em>printErrors=True</em>, <em>indentation=''</em>, <em>messages=None</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/fudgemath.html#checkForNaN"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.fudgemath.checkForNaN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fudge.core.math.fudgemath.checkNumber">
<tt class="descclassname">fudge.core.math.fudgemath.</tt><tt class="descname">checkNumber</tt><big>(</big><em>v</em>, <em>str=''</em>, <em>printErrors=True</em>, <em>indentation=''</em>, <em>messages=None</em>, <em>maxAbsFloatValue=None</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/fudgemath.html#checkNumber"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.fudgemath.checkNumber" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="fudge.core.math.fudgemath.fastSumOfManyAddends">
<em class="property">class </em><tt class="descclassname">fudge.core.math.fudgemath.</tt><tt class="descname">fastSumOfManyAddends</tt><a class="reference internal" href="../_modules/fudge/core/math/fudgemath.html#fastSumOfManyAddends"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.fudgemath.fastSumOfManyAddends" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>This class in designed to sum a lot of endl2dmath or fudge2dmath object together efficiently. For example,
consider the list f2d of 100,000 fudge2dmath objects that are to be summed. One way to do this is as
s = fudge2dmath( )
for f in f2d : s = s + f</p>
<p>In general, this is very inefficient and will take a long time. Using, this class as</p>
<p>fs = fastSumOfManyAddends( )
for f in f2d : fs.appendAddend( f )
s = fs.returnSum( )</p>
<p>is, in general, much more efficient (i.e., runs a lot faster) and it should never be less efficient.</p>
<p>While this class was designed for endl2dmath and fudge2dmath objects, it should work for any object
for which the &#8216;+&#8217; operation is defined.</p>
<dl class="method">
<dt id="fudge.core.math.fudgemath.fastSumOfManyAddends.appendAddend">
<tt class="descname">appendAddend</tt><big>(</big><em>addend</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/fudgemath.html#fastSumOfManyAddends.appendAddend"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.fudgemath.fastSumOfManyAddends.appendAddend" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds addend to current sum efficiently.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.fudgemath.fastSumOfManyAddends.clear">
<tt class="descname">clear</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/fudgemath.html#fastSumOfManyAddends.clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.fudgemath.fastSumOfManyAddends.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Clears currently summed data.</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.fudgemath.fastSumOfManyAddends.returnSum">
<tt class="descname">returnSum</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/fudgemath.html#fastSumOfManyAddends.returnSum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.fudgemath.fastSumOfManyAddends.returnSum" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current sum of all addends appended.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="fudge.core.math.fudgemath.getValue">
<tt class="descclassname">fudge.core.math.fudgemath.</tt><tt class="descname">getValue</tt><big>(</big><em>n</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/fudgemath.html#getValue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.fudgemath.getValue" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fudge.core.math.fudgemath.isNumber">
<tt class="descclassname">fudge.core.math.fudgemath.</tt><tt class="descname">isNumber</tt><big>(</big><em>n</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/fudgemath.html#isNumber"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.fudgemath.isNumber" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fudge.core.math.fudgemath.runningYSum">
<tt class="descclassname">fudge.core.math.fudgemath.</tt><tt class="descname">runningYSum</tt><big>(</big><em>data</em>, <em>normalize=False</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/fudgemath.html#runningYSum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.fudgemath.runningYSum" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the running sum of dx * y (normalized to 1 of normalize is True) as an endl2dmath object. 
Data must be list of ( x, y ).</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.fudgemath.runningZSum">
<tt class="descclassname">fudge.core.math.fudgemath.</tt><tt class="descname">runningZSum</tt><big>(</big><em>data</em>, <em>xLabel=None</em>, <em>yLabel=None</em>, <em>zLabel=None</em>, <em>normalize=False</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/fudgemath.html#runningZSum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.fudgemath.runningZSum" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the running sum of dy * z (normalized to 1 of normalize is True) for each x as an endl3dmath object.
Data must be list of ( x, list of ( y, z ) ).</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.fudgemath.thickenXYList">
<tt class="descclassname">fudge.core.math.fudgemath.</tt><tt class="descname">thickenXYList</tt><big>(</big><em>list</em>, <em>tester</em>, <em>biSectionMax=6</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/fudgemath.html#thickenXYList"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.fudgemath.thickenXYList" title="Permalink to this definition">¶</a></dt>
<dd><p>This functions takes a list of (x,y) points and a function, tester.evaluateAtX, and bi-sectionally adds points to 
obtain linear-linear tolerance of the returned list and tester.evaluateAtX to tester.relativeTolerance. At most 
biSectionMax bi-sections are performed between each consecutive pair of inputted points. It is assumed that the 
inital list of points and the function tester.evaluateAtX agree to tolerance tester.relativeTolerance.</p>
</dd></dl>

</div>
<div class="section" id="module-fudge.core.math.parameters">
<span id="parameters-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">parameters</span></tt> Module<a class="headerlink" href="#module-fudge.core.math.parameters" title="Permalink to this headline">¶</a></h2>
<p>cmattoon 3/2011: copy endlParameters.py contents into fudge/core/fudgemath</p>
</div>
<div class="section" id="module-fudge.core.math.pointwiseXY">
<span id="pointwisexy-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">pointwiseXY</span></tt> Module<a class="headerlink" href="#module-fudge.core.math.pointwiseXY" title="Permalink to this headline">¶</a></h2>
<p>This module defines &#8216;pointwiseXY&#8217; in pure python. Users will generally prefer to use &#8216;pointwiseXY_C&#8217;,
which is a faster and more capable C implementation.
If the C version is not available, fudge will revert to this version.</p>
<p>cmattoon, July 2011</p>
<dl class="class">
<dt id="fudge.core.math.pointwiseXY.pointwiseXY">
<em class="property">class </em><tt class="descclassname">fudge.core.math.pointwiseXY.</tt><tt class="descname">pointwiseXY</tt><big>(</big><em>initialSize=0</em>, <em>overflowSize=0</em>, <em>data=None</em>, <em>dataForm='xys'</em>, <em>accuracy=None</em>, <em>biSectionMax=4</em>, <em>interpolation=None</em>, <em>infill=True</em>, <em>safeDivide=False</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/pointwiseXY.html#pointwiseXY"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.pointwiseXY.pointwiseXY" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#fudge.core.math.endl2dmathClasses.endl2dmath" title="fudge.core.math.endl2dmathClasses.endl2dmath"><tt class="xref py py-class docutils literal"><span class="pre">fudge.core.math.endl2dmathClasses.endl2dmath</span></tt></a></p>
<dl class="method">
<dt id="fudge.core.math.pointwiseXY.pointwiseXY.changeInterpolation">
<tt class="descname">changeInterpolation</tt><big>(</big><em>interpolation</em>, <em>accuracy=None</em>, <em>lowerEps=0</em>, <em>upperEps=0</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/pointwiseXY.html#pointwiseXY.changeInterpolation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.pointwiseXY.pointwiseXY.changeInterpolation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fudge.core.math.pointwiseXY.pointwiseXY.copy">
<tt class="descname">copy</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/pointwiseXY.html#pointwiseXY.copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.pointwiseXY.pointwiseXY.copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fudge.core.math.pointwiseXY.pointwiseXY.copyDataToXYs">
<tt class="descname">copyDataToXYs</tt><big>(</big><em>xScale=None</em>, <em>yScale=None</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/pointwiseXY.html#pointwiseXY.copyDataToXYs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.pointwiseXY.pointwiseXY.copyDataToXYs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fudge.core.math.pointwiseXY.pointwiseXY.getAccuracy">
<tt class="descname">getAccuracy</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/pointwiseXY.html#pointwiseXY.getAccuracy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.pointwiseXY.pointwiseXY.getAccuracy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fudge.core.math.pointwiseXY.pointwiseXY.getBiSectionMax">
<tt class="descname">getBiSectionMax</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/pointwiseXY.html#pointwiseXY.getBiSectionMax"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.pointwiseXY.pointwiseXY.getBiSectionMax" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fudge.core.math.pointwiseXY.pointwiseXY.getInfill">
<tt class="descname">getInfill</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/pointwiseXY.html#pointwiseXY.getInfill"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.pointwiseXY.pointwiseXY.getInfill" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fudge.core.math.pointwiseXY.pointwiseXY.getSafeDivide">
<tt class="descname">getSafeDivide</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/pointwiseXY.html#pointwiseXY.getSafeDivide"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.pointwiseXY.pointwiseXY.getSafeDivide" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fudge.core.math.pointwiseXY.pointwiseXY.thin">
<tt class="descname">thin</tt><big>(</big><em>accuracy</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/pointwiseXY.html#pointwiseXY.thin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.pointwiseXY.pointwiseXY.thin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fudge.core.math.pointwiseXY.pointwiseXY.union">
<tt class="descname">union</tt><big>(</big><em>other</em>, <em>fillWithSelf</em>, <em>trim</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/pointwiseXY.html#pointwiseXY.union"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.pointwiseXY.pointwiseXY.union" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fudge.core.math.pointwiseXY.pointwiseXY.xSlice">
<tt class="descname">xSlice</tt><big>(</big><em>xMin</em>, <em>xMax</em>, <em>fill=None</em>, <em>dullEps=None</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/pointwiseXY.html#pointwiseXY.xSlice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.pointwiseXY.pointwiseXY.xSlice" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-fudge.core.math.table">
<span id="table-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">table</span></tt> Module<a class="headerlink" href="#module-fudge.core.math.table" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="fudge.core.math.table.blank">
<em class="property">class </em><tt class="descclassname">fudge.core.math.table.</tt><tt class="descname">blank</tt><a class="reference internal" href="../_modules/fudge/core/math/table.html#blank"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.table.blank" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Blank table entry, to indicate missing data</p>
</dd></dl>

<dl class="class">
<dt id="fudge.core.math.table.columnHeader">
<em class="property">class </em><tt class="descclassname">fudge.core.math.table.</tt><tt class="descname">columnHeader</tt><big>(</big><em>index</em>, <em>name</em>, <em>units=None</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/table.html#columnHeader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.table.columnHeader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>defines one column in a table</p>
<dl class="method">
<dt id="fudge.core.math.table.columnHeader.toXMLList">
<tt class="descname">toXMLList</tt><big>(</big><em>indent=''</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/table.html#columnHeader.toXMLList"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.table.columnHeader.toXMLList" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="fudge.core.math.table.parseXMLNode">
<tt class="descclassname">fudge.core.math.table.</tt><tt class="descname">parseXMLNode</tt><big>(</big><em>element</em>, <em>conversionTable={}</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/table.html#parseXMLNode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.table.parseXMLNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a table element from xml into python. To convert a column or attribute from string to some other type,
enter the new type in the conversionTable: {&#8216;index&#8217;:int, &#8216;scatteringRadius&#8217;:PhysicalQuantityWithUncertainty, etc}.</p>
</dd></dl>

<dl class="class">
<dt id="fudge.core.math.table.table">
<em class="property">class </em><tt class="descclassname">fudge.core.math.table.</tt><tt class="descname">table</tt><big>(</big><em>columns=None</em>, <em>data=None</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/table.html#table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.table.table" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="fudge.core.html#fudge.core.ancestry.ancestry" title="fudge.core.ancestry.ancestry"><tt class="xref py py-class docutils literal"><span class="pre">fudge.core.ancestry.ancestry</span></tt></a></p>
<dl class="method">
<dt id="fudge.core.math.table.table.addColumn">
<tt class="descname">addColumn</tt><big>(</big><em>columnHeader</em>, <em>index=None</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/table.html#table.addColumn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.table.table.addColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>add another column, either at &#8216;index&#8217; or at the end of the table</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.table.table.addRow">
<tt class="descname">addRow</tt><big>(</big><em>dataRow</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/table.html#table.addRow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.table.table.addRow" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fudge.core.math.table.table.getColumn">
<tt class="descname">getColumn</tt><big>(</big><em>columnName</em>, <em>units=None</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/table.html#table.getColumn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.table.table.getColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>get data from one column, identified by the column &#8216;name&#8217; attribute.
Convert results to unit if units are specified</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.table.table.removeColumn">
<tt class="descname">removeColumn</tt><big>(</big><em>columnName</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/table.html#table.removeColumn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.table.table.removeColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>remove one column from the table</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.table.table.toXMLList">
<tt class="descname">toXMLList</tt><big>(</big><em>indent=''</em>, <em>prettyPrint=True</em>, <em>addHeader=True</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/table.html#table.toXMLList"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.table.table.toXMLList" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-fudge.core.math.matrix">
<span id="matrix-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">matrix</span></tt> Module<a class="headerlink" href="#module-fudge.core.math.matrix" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="fudge.core.math.matrix.matrix">
<em class="property">class </em><tt class="descclassname">fudge.core.math.matrix.</tt><tt class="descname">matrix</tt><big>(</big><em>data</em>, <em>form=None</em>, <em>precision=None</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/matrix.html#matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.matrix.matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="fudge.core.html#fudge.core.ancestry.ancestry" title="fudge.core.ancestry.ancestry"><tt class="xref py py-class docutils literal"><span class="pre">fudge.core.ancestry.ancestry</span></tt></a></p>
<p>Class for storing a matrix or two-dimensional array.
This class supports diagonal, symmetric, asymmetric, and sparse matrices.
Matrix data is stored as a list of lists, which is easily converted into a numpy array.</p>
<dl class="method">
<dt id="fudge.core.math.matrix.matrix.check">
<tt class="descname">check</tt><big>(</big><em>info</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/matrix.html#matrix.check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.matrix.matrix.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Run some simple checks on covariance matrices: 
* look for negative eigenvals,
* check ratio of smallest/largest eigenvals</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.matrix.matrix.fix">
<tt class="descname">fix</tt><big>(</big><em>**kw</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/matrix.html#matrix.fix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.matrix.matrix.fix" title="Permalink to this definition">¶</a></dt>
<dd><p>Fix common eigenvalue problems: 
* negative eigenvals,
* bad ratio of smallest/largest eigenvals</p>
</dd></dl>

<dl class="method">
<dt id="fudge.core.math.matrix.matrix.plot">
<tt class="descname">plot</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/matrix.html#matrix.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.matrix.matrix.plot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fudge.core.math.matrix.matrix.toXMLList">
<tt class="descname">toXMLList</tt><big>(</big><em>flags=None</em>, <em>verbosityIndent=''</em>, <em>indent=''</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/matrix.html#matrix.toXMLList"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.matrix.matrix.toXMLList" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="fudge.core.math.matrix.parseXMLNode">
<tt class="descclassname">fudge.core.math.matrix.</tt><tt class="descname">parseXMLNode</tt><big>(</big><em>mat</em>, <em>linkData={}</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/matrix.html#parseXMLNode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.matrix.parseXMLNode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-fudge.core.math.linearAlgebra">
<span id="linearalgebra-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">linearAlgebra</span></tt> Module<a class="headerlink" href="#module-fudge.core.math.linearAlgebra" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="fudge.core.math.linearAlgebra.affine_transform_covariance">
<tt class="descclassname">fudge.core.math.linearAlgebra.</tt><tt class="descname">affine_transform_covariance</tt><big>(</big><em>covarianceMatrix</em>, <em>transformMatrix</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/linearAlgebra.html#affine_transform_covariance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.linearAlgebra.affine_transform_covariance" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform an affine transformation to a covariance matrix, namely 
<span class="math">\(new = A^T \cdot old \cdot A\)</span>, where <span class="math">\(A\)</span> is a orthogonal matrix.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">not implemented</p>
</div>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.linearAlgebra.cglsqrSolve">
<tt class="descclassname">fudge.core.math.linearAlgebra.</tt><tt class="descname">cglsqrSolve</tt><big>(</big><em>data</em>, <em>dataUnc=None</em>, <em>dataCov=None</em>, <em>kernel=None</em>, <em>prior=None</em>, <em>priorCov=None</em>, <em>constraintVector=None</em>, <em>constraintMatrix=None</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/linearAlgebra.html#cglsqrSolve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.linearAlgebra.cglsqrSolve" title="Permalink to this definition">¶</a></dt>
<dd><p>Constrainted Generalized Least-Squares Solver, based on CorAL routines.
We are minimizing the following <tt class="docutils literal"><span class="pre">chi^2</span></tt> (assuming Gaussian statistics)</p>
<div class="highlight-python"><pre>chi^2 = ( data - kernel * model ) * ( dataCov )^-1 * ( data - kernel * model )^T +
        ( prior - model ) * ( priorCov )^2 * ( prior - model )^T</pre>
</div>
<p>subject to the constraint</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">constraintVector</span> <span class="o">=</span> <span class="n">constraintMatrix</span> <span class="o">*</span> <span class="n">model</span>
</pre></div>
</div>
<p>Here, <tt class="docutils literal"><span class="pre">^T</span></tt> means matrix transpose and <tt class="docutils literal"><span class="pre">^-1</span></tt> means a (generalized) matrix inverse.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a tuple: <tt class="docutils literal"><span class="pre">(model,</span> <span class="pre">modelCovariance)</span></tt>:<ul class="simple">
<li><tt class="docutils literal"><span class="pre">model</span></tt> : a M x 1 numpy.mat containing the extracted model parameter</li>
<li><tt class="docutils literal"><span class="pre">modelCovariance</span></tt> : a M x M numpy.mat containing the covariance on the extracted model paremeters</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Manditory arguments:</strong></p>
<blockquote>
<div><ul class="simple">
<li><strong>data</strong> : a N x 1 <tt class="docutils literal"><span class="pre">numpy.mat</span></tt> (a vector!) containing the data to fit</li>
</ul>
</div></blockquote>
<p><strong>Optional arguments:</strong></p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><strong>kernel</strong> <span class="classifier-delimiter">:</span> <span class="classifier">a N x M <tt class="docutils literal"><span class="pre">numpy.mat</span></tt> that maps the model parameters into the data space.  If this </span></dt>
<dd><p class="first last">is not given, it is assumed that <tt class="docutils literal"><span class="pre">kernel</span></tt> = the identity matrix and N == M.</p>
</dd>
</dl>
</li>
<li><p class="first">either</p>
<blockquote>
<div><dl class="docutils">
<dt>&#8211; <strong>dataUnc</strong> <span class="classifier-delimiter">:</span> <span class="classifier">a N x 1 <tt class="docutils literal"><span class="pre">numpy.mat</span></tt> (a vector) of uncertianties on the data vector.</span></dt>
<dd><p class="first last">This will be converted to the <tt class="docutils literal"><span class="pre">dataCov</span></tt> if the <tt class="docutils literal"><span class="pre">dataCov</span></tt> is not specified.</p>
</dd>
</dl>
<p class="attribution">&mdash;<strong>dataCov</strong> : a N x N <tt class="docutils literal"><span class="pre">numpy.mat</span></tt> containing the data&#8217;s covariance
If this is specified, the <tt class="docutils literal"><span class="pre">dataUnc</span></tt> will be ignored.</p>
</div></blockquote>
<blockquote>
<div><p>If neither the <tt class="docutils literal"><span class="pre">dataUnc</span></tt> or <tt class="docutils literal"><span class="pre">dataCov</span></tt> are specified, we will set the covariance to the 
identity matrix. Instead of minimizing the <tt class="docutils literal"><span class="pre">chi^2</span></tt>, you will minimize</p>
<div class="highlight-python"><pre>| data - kernel * model |^2</pre>
</div>
</div></blockquote>
</li>
<li><p class="first">both of</p>
<blockquote>
<div><p>&#8211; <strong>prior</strong>    : a M x 1 <tt class="docutils literal"><span class="pre">numpy.mat</span></tt> containing the fitting model&#8217;s apriori values</p>
<p class="attribution">&mdash;<strong>priorCov</strong> : a M x M <tt class="docutils literal"><span class="pre">numpy.mat</span></tt> containing the fitting model&#8217;s apriori covariance</p>
</div></blockquote>
<blockquote>
<div><p>If either one is not included, the second term in the <tt class="docutils literal"><span class="pre">chi^2</span></tt> will be ignored.</p>
</div></blockquote>
</li>
<li><p class="first">both of</p>
<blockquote>
<div><p>&#8211; <strong>constraintVector</strong> : a L x 1 <tt class="docutils literal"><span class="pre">numpy.mat</span></tt> containing values to constrain the model to match</p>
<p class="attribution">&mdash;<strong>constraintMatrix</strong> : a L x M <tt class="docutils literal"><span class="pre">numpy.mat</span></tt> relating the model parameters to the <tt class="docutils literal"><span class="pre">constraintVector</span></tt> values</p>
</div></blockquote>
<blockquote>
<div><p>If either one is not included, the constraint equation will be ignored.</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<p class="rubric">HOW IT WORKS</p>
<p>Because the data and the prior are independent and not correlated, we will solve the minimization problem by
stacking the prior part and the data part to construct a new <tt class="docutils literal"><span class="pre">chi^2</span></tt> to minimize</p>
<div class="highlight-python"><pre>          [ data  ]             [ dataCov |     0    ]                [ kernel ]
newData = [ ----- ],   newCov = [ --------|--------- ],   newKernel = [ ------ ]
          [ prior ]             [    0    | priorCov ]                [    1   ]</pre>
</div>
<p>With these, the <tt class="docutils literal"><span class="pre">chi^2</span></tt> may be rewritten as</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">chi</span><span class="o">^</span><span class="mi">2</span> <span class="o">=</span> <span class="p">(</span> <span class="n">newData</span> <span class="o">-</span> <span class="n">newKernel</span> <span class="o">*</span> <span class="n">model</span> <span class="p">)</span><span class="o">^</span><span class="n">T</span> <span class="o">*</span> <span class="n">newCov</span><span class="o">^-</span><span class="mi">1</span> <span class="o">*</span> <span class="p">(</span> <span class="n">newData</span> <span class="o">-</span> <span class="n">newKernel</span> <span class="o">*</span> <span class="n">model</span> <span class="p">)</span>
</pre></div>
</div>
<p>The solution to the minimization problem is the well known normal equation</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">modelCov</span> <span class="o">=</span> <span class="p">(</span> <span class="n">newKernel</span> <span class="o">*</span> <span class="n">newCov</span><span class="o">^-</span><span class="mi">1</span> <span class="o">*</span> <span class="n">newKernel</span><span class="o">^</span><span class="n">T</span> <span class="p">)</span><span class="o">^-</span><span class="mi">1</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">modelCov</span> <span class="o">*</span> <span class="n">newKernel</span><span class="o">^</span><span class="n">T</span> <span class="o">*</span> <span class="n">newCov</span><span class="o">^-</span><span class="mi">1</span> <span class="o">*</span> <span class="n">newData</span>
</pre></div>
</div>
<p>Implementing this case where no uncertainty or covariance is given on the data vector is straightforward.
In this case, we are solving the simple least-squares problem</p>
<div class="highlight-python"><pre>minimize:   | data - kernel * model |^2 + ( model - prior )*( priorCov )^-1*( model - prior )^T</pre>
</div>
<p>In other words, we use a <tt class="docutils literal"><span class="pre">dataCov</span> <span class="pre">=</span> <span class="pre">1</span></tt>, the identity matrix.</p>
<p>We comment that the equality constraints can be added in much this same way by adding the constraint 
vector as a fake data set, with infinitesimal uncertainties</p>
<div class="highlight-python"><pre>chi^2 += lambda * ( constraintVector - constraintMatrix * model )^2    </pre>
</div>
<p>with lambda <span class="math">\(\rightarrow\infty\)</span>.  This approach works, but can lead to numerical instabilities by 
adding big number to the original covariances, then taking inverses.</p>
<p>So, rather than doing this, we will do something different (using Lagrange multipliers).  
We use the &#8220;newData&#8221; etc. above and the corresponding <tt class="docutils literal"><span class="pre">chi^2</span></tt></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">chi</span><span class="o">^</span><span class="mi">2</span> <span class="o">=</span> <span class="p">(</span> <span class="n">newData</span> <span class="o">-</span> <span class="n">newKernel</span> <span class="o">*</span> <span class="n">model</span> <span class="p">)</span><span class="o">^</span><span class="n">T</span> <span class="o">*</span> <span class="n">newCov</span><span class="o">^-</span><span class="mi">1</span> <span class="o">*</span> <span class="p">(</span> <span class="n">newData</span> <span class="o">-</span> <span class="n">newKernel</span> <span class="o">*</span> <span class="n">model</span> <span class="p">)</span>
</pre></div>
</div>
<p>subject to the constraint</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">constraintMatrix</span> <span class="o">*</span> <span class="n">model</span> <span class="o">=</span> <span class="n">constraintVector</span>
</pre></div>
</div>
<p>Here we are really solving the quadratic optimization problem here and the way to solve it is with 
Lagrange multipliers.  So, extend the model thusly</p>
<div class="highlight-python"><pre>           [   model  ]
newModel = [ ---------]
           [  lambda  ]</pre>
</div>
<p>Here lambda is the vector of Lagrange multipliers ( there are L of them ).  
Minimizing the chi^2, we find the usual normal equation</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">(</span> <span class="n">newKernel</span> <span class="o">*</span> <span class="n">newCov</span><span class="o">^-</span><span class="mi">1</span> <span class="o">*</span> <span class="n">newKernel</span><span class="o">^</span><span class="n">T</span> <span class="p">)</span> <span class="o">*</span> <span class="n">model</span> <span class="o">=</span> <span class="n">newKernel</span><span class="o">^</span><span class="n">T</span> <span class="o">*</span> <span class="n">newCov</span><span class="o">^-</span><span class="mi">1</span> <span class="o">*</span> <span class="n">newData</span>
</pre></div>
</div>
<p>So, we&#8217;ll stack the normal and constraint equations:</p>
<div class="highlight-python"><pre>    [ newKernel * newCov^-1 * newKernel^T | constraintMatrix^T ]
A = [ ------------------------------------|------------------- ]
    [          constraintMatrix           |         0          ]

and

    [ newKernel^T * newCov^-1 * newData ]
y = [ --------------------------------- ]
    [         constraintVector          ]

giving,

A * newModel = y</pre>
</div>
<p>We can solve this a few ways:</p>
<blockquote>
<div><ol class="arabic">
<li><p class="first">Performing a QR decomposition on <span class="math">\(A\)</span> gives <span class="math">\(A = QR\)</span> (using <tt class="docutils literal"><span class="pre">numpy.linalg.qr</span></tt>) and</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">R</span> <span class="o">*</span> <span class="n">newModel</span> <span class="o">=</span> <span class="n">Q</span><span class="o">^</span><span class="n">T</span> <span class="o">*</span> <span class="n">y</span>
</pre></div>
</div>
<p>We can then use the <tt class="docutils literal"><span class="pre">numpy.linalg.tensorsolve</span></tt> for the <tt class="docutils literal"><span class="pre">newModel</span></tt></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">newModel</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">tensorsolve</span><span class="p">(</span> <span class="n">R</span><span class="p">,</span> <span class="n">Q</span><span class="o">^</span><span class="n">T</span> <span class="o">*</span> <span class="n">y</span> <span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">Just doing a Moore-Penrose inversion (uses SVD)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">newModel</span> <span class="o">=</span> <span class="n">A</span><span class="o">^-</span><span class="mi">1</span> <span class="o">*</span> <span class="n">y</span>
</pre></div>
</div>
</li>
</ol>
</div></blockquote>
<p>But now the meaning of A is clear: it is an &#8220;extended&#8221; covariance where the first 
M x M block is the covariance of the model and the rest are the covariance of the 
Lagrange multipliers (which are disposable).</p>
<p class="rubric">TESTING</p>
<dl class="docutils">
<dt>Note on construction of dataCov with uncertainty:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">unc</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">mat</span><span class="p">(</span> <span class="p">[</span> <span class="p">[</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span> <span class="p">]</span> <span class="p">]</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">diagCov</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">diag</span><span class="p">(</span> <span class="p">[</span> <span class="n">unc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">unc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span> <span class="n">unc</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">)</span> <span class="p">]</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">diagCov</span>
<span class="go">array([ [ 1.,  0.,  0.],</span>
<span class="go">        [ 0.,  1.,  0.],</span>
<span class="go">        [ 0.,  0.,  4.]])</span>
</pre></div>
</div>
</dd>
<dt>Also, without specifying an uncertainty or covariance, one finds:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">dataCov</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span> <span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataCov</span>
<span class="go">array([ [ 1.,  0.,  0.],</span>
<span class="go">        [ 0.,  1.,  0.],</span>
<span class="go">        [ 0.,  0.,  1.]])</span>
</pre></div>
</div>
</dd>
</dl>
<p>So, both alternate methods of defining the data covariance function correctly.</p>
<p><strong>Define the problem</strong></p>
<dl class="docutils">
<dt>Define a test problem:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">answer</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">matrix</span><span class="p">([[</span> <span class="mf">1.34883721</span><span class="p">,</span><span class="o">-</span><span class="mf">0.69767442</span><span class="p">,</span> <span class="mf">0.34883721</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">42.0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kernel</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">matrix</span><span class="p">(</span> <span class="p">[</span> <span class="p">[</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">4.5</span><span class="p">,</span> <span class="mf">5.4</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span> <span class="p">]</span> <span class="p">]</span> <span class="p">)</span> <span class="c"># Note: lower two subspaces map to 0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kernel</span> <span class="o">*</span> <span class="n">answer</span><span class="o">.</span><span class="n">T</span> 
<span class="go">    matrix([[ 1.],</span>
<span class="go">            [ 2.],</span>
<span class="go">            [ 3.]])</span>
</pre></div>
</div>
</dd>
<dt>Test data:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">mat</span><span class="p">([</span> <span class="p">[</span> <span class="mf">1.1</span><span class="p">,</span> <span class="mf">1.89</span><span class="p">,</span> <span class="mf">3.05</span> <span class="p">]</span> <span class="p">]</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataCov</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">mat</span><span class="p">([</span> <span class="p">[</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.1</span> <span class="p">]</span> <span class="p">,</span> <span class="p">[</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">1.0</span> <span class="p">]</span> <span class="p">]</span> <span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>Constrain the last two elements of the model to add to 42.1:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">constraintVector</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">matrix</span><span class="p">(</span> <span class="p">[[</span> <span class="mf">42.1</span> <span class="p">]]</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">constraintMatrix</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">matrix</span><span class="p">(</span> <span class="p">[[</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span> <span class="p">]]</span> <span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>A apriori guess to the result (good to &lt; 5% in all 4 dimensions):</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">prior</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">matrix</span><span class="p">([[</span> <span class="mf">1.3</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.11</span><span class="p">,</span> <span class="mf">42.2</span> <span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">priorCov</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">matrix</span><span class="p">([</span>
<span class="go">    [  0.07      ,   0.        ,   0.        ,   0.        ,   0.        ],</span>
<span class="go">    [  0.        ,   0.5       ,   0.        ,   0.        ,   0.        ],</span>
<span class="go">    [  0.        ,   0.        ,   0.4       ,   0.        ,   0.        ],</span>
<span class="go">    [  0.        ,   0.        ,   0.        ,   0.1       ,   0.        ],</span>
<span class="go">    [  0.        ,   0.        ,   0.        ,   0.        ,  20.        ]])</span>
</pre></div>
</div>
</dd>
</dl>
<p>This might be a little too good...</p>
<p><strong>A data only solution</strong></p>
<dl class="docutils">
<dt>Using data only, we get:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">modelCov</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">pinv</span><span class="p">(</span> <span class="n">kernel</span><span class="o">.</span><span class="n">T</span> <span class="o">*</span> <span class="n">numpy</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">pinv</span><span class="p">(</span> <span class="n">dataCov</span> <span class="p">)</span> <span class="o">*</span> <span class="n">kernel</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modelCov</span>
<span class="go">matrix([[ 19.2436993 , -17.66414278,   4.23904813,   0.        ,   0.        ],</span>
<span class="go">        [-17.66414278,  16.28177393,  -3.95484045,   0.        ,   0.        ],</span>
<span class="go">        [  4.23904813,  -3.95484045,   1.03439697,   0.        ,   0.        ],</span>
<span class="go">        [  0.        ,   0.        ,   0.        ,   0.        ,   0.        ],</span>
<span class="go">        [  0.        ,   0.        ,   0.        ,   0.        ,   0.        ]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">modelCov</span> <span class="o">*</span> <span class="n">kernel</span><span class="o">.</span><span class="n">T</span> <span class="o">*</span> <span class="n">numpy</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">pinv</span><span class="p">(</span> <span class="n">dataCov</span> <span class="p">)</span> <span class="o">*</span> <span class="n">data</span><span class="o">.</span><span class="n">T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span>
<span class="go">matrix([[ 0.66232558],</span>
<span class="go">        [-0.05465116],</span>
<span class="go">        [ 0.18232558],</span>
<span class="go">        [ 0.        ],</span>
<span class="go">        [ 0.        ]])</span>
</pre></div>
</div>
</dd>
</dl>
<p>Note: the last to elements in the model are zero because there was no way to control them given the kernel in play.  
Without a handle on the last two elements, the fitting cannot do better than this.</p>
<p><strong>A data+prior solution</strong></p>
<dl class="docutils">
<dt>With data+prior, we first repack things:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">newData</span> <span class="o">=</span> <span class="n">stackHorizontal</span><span class="p">(</span> <span class="p">[</span> <span class="n">data</span><span class="p">,</span> <span class="n">prior</span> <span class="p">]</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newData</span>
<span class="go">matrix([[  1.1 ,   1.89,   3.05,   1.3 ,  -0.7 ,   0.3 ,   0.11,  42.2 ]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newKernel</span> <span class="o">=</span> <span class="n">stackVertical</span><span class="p">(</span> <span class="p">[</span> <span class="n">kernel</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span> <span class="n">prior</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">)</span> <span class="p">]</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newKernel</span>
<span class="go">matrix([[ 1. ,  2. ,  3. ,  0. ,  0. ],</span>
<span class="go">        [ 2. ,  3. ,  4. ,  0. ,  0. ],</span>
<span class="go">        [ 4.5,  5.4,  2. ,  0. ,  0. ],</span>
<span class="go">        [ 1. ,  0. ,  0. ,  0. ,  0. ],</span>
<span class="go">        [ 0. ,  1. ,  0. ,  0. ,  0. ],</span>
<span class="go">        [ 0. ,  0. ,  1. ,  0. ,  0. ],</span>
<span class="go">        [ 0. ,  0. ,  0. ,  1. ,  0. ],</span>
<span class="go">        [ 0. ,  0. ,  0. ,  0. ,  1. ]])</span>
</pre></div>
</div>
</dd>
<dt>Now, we can rework the algorithm above:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">newCov</span> <span class="o">=</span> <span class="n">stackVertical</span><span class="p">(</span> <span class="p">[</span> <span class="n">stackHorizontal</span><span class="p">(</span> <span class="p">[</span> <span class="n">dataCov</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span> <span class="p">(</span> <span class="n">dataCov</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">priorCov</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">)</span> <span class="p">)</span> <span class="p">]</span> <span class="p">),</span> <span class="n">stackHorizontal</span><span class="p">(</span> <span class="p">[</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span> <span class="p">(</span> <span class="n">priorCov</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">dataCov</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">)</span> <span class="p">),</span> <span class="n">priorCov</span> <span class="p">]</span> <span class="p">)</span> <span class="p">]</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newCov</span>
<span class="go">matrix([[  1.  ,   0.1 ,   0.1 ,   0.  ,   0.  ,   0.  ,   0.  ,   0.  ],</span>
<span class="go">        [  0.1 ,   1.  ,   0.1 ,   0.  ,   0.  ,   0.  ,   0.  ,   0.  ],</span>
<span class="go">        [  0.1 ,   0.1 ,   1.  ,   0.  ,   0.  ,   0.  ,   0.  ,   0.  ],</span>
<span class="go">        [  0.  ,   0.  ,   0.  ,   0.07,   0.  ,   0.  ,   0.  ,   0.  ],</span>
<span class="go">        [  0.  ,   0.  ,   0.  ,   0.  ,   0.5 ,   0.  ,   0.  ,   0.  ],</span>
<span class="go">        [  0.  ,   0.  ,   0.  ,   0.  ,   0.  ,   0.4 ,   0.  ,   0.  ],</span>
<span class="go">        [  0.  ,   0.  ,   0.  ,   0.  ,   0.  ,   0.  ,   0.1 ,   0.  ],</span>
<span class="go">        [  0.  ,   0.  ,   0.  ,   0.  ,   0.  ,   0.  ,   0.  ,  20.  ]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modelCov</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">pinv</span><span class="p">(</span> <span class="n">newKernel</span><span class="o">.</span><span class="n">T</span> <span class="o">*</span> <span class="n">numpy</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">pinv</span><span class="p">(</span> <span class="n">newCov</span> <span class="p">)</span> <span class="o">*</span> <span class="n">newKernel</span> <span class="p">)</span> <span class="c"># use Moore-Penrose generalized inverse (ie SVD inversion)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modelCov</span>
<span class="go">matrix([[  6.30909610e-02,  -5.01795451e-02,   5.99338297e-03,  0.00000000e+00,   0.00000000e+00],</span>
<span class="go">        [ -5.01795451e-02,   9.30182090e-02,  -5.02878134e-02,  0.00000000e+00,   0.00000000e+00],</span>
<span class="go">        [  5.99338297e-03,  -5.02878134e-02,   7.63220083e-02,  0.00000000e+00,   0.00000000e+00],</span>
<span class="go">        [  0.00000000e+00,   0.00000000e+00,   0.00000000e+00,  1.00000000e-01,   0.00000000e+00],</span>
<span class="go">        [  0.00000000e+00,   0.00000000e+00,   0.00000000e+00,  0.00000000e+00,   2.00000000e+01]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">modelCov</span> <span class="o">*</span> <span class="n">newKernel</span><span class="o">.</span><span class="n">T</span> <span class="o">*</span> <span class="n">numpy</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">pinv</span><span class="p">(</span> <span class="n">newCov</span> <span class="p">)</span> <span class="o">*</span> <span class="n">newData</span><span class="o">.</span><span class="n">T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span>
<span class="go">matrix([[  1.30359097],</span>
<span class="go">        [ -0.64662084],</span>
<span class="go">        [  0.32428234],</span>
<span class="go">        [  0.11      ],</span>
<span class="go">        [ 42.2       ]])</span>
</pre></div>
</div>
</dd>
<dt>A good prior gives a good result:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">residual</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">T</span> <span class="o">-</span> <span class="n">kernel</span> <span class="o">*</span> <span class="n">model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">residual</span>
<span class="go">matrix([[ 0.11680368],</span>
<span class="go">        [-0.0744488 ],</span>
<span class="go">        [ 0.02702848]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">error</span> <span class="o">=</span> <span class="n">answer</span><span class="o">.</span><span class="n">T</span> <span class="o">-</span> <span class="n">model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">error</span>
<span class="go">matrix([[ 0.04524624],</span>
<span class="go">        [-0.05105358],</span>
<span class="go">        [ 0.02455487],</span>
<span class="go">        [-0.01      ],</span>
<span class="go">        [-0.2       ]])</span>
</pre></div>
</div>
</dd>
<dt>The final uncertainty is not bad:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">uncertainty</span> <span class="o">=</span> <span class="p">[</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">modelCov</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">i</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span> <span class="n">modelCov</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">)</span> <span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">uncertainty</span>
<span class="go">    [0.25117914115531315, 0.30498886706247513, 0.2762643810785747, 0.31622776601683794, 4.47213595499958]</span>
</pre></div>
</div>
</dd>
</dl>
<p><strong>A data+constraint+prior solution</strong></p>
<dl class="docutils">
<dt>Next, with everything (data+constraint+prior)...  First we stack the normal equation and the constraint equation:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">reallyNewData</span> <span class="o">=</span> <span class="n">stackHorizontal</span><span class="p">(</span> <span class="p">[</span> <span class="p">(</span> <span class="n">newKernel</span><span class="o">.</span><span class="n">T</span> <span class="o">*</span> <span class="n">numpy</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">pinv</span><span class="p">(</span> <span class="n">newCov</span> <span class="p">)</span> <span class="o">*</span> <span class="n">newData</span><span class="o">.</span><span class="n">T</span> <span class="p">)</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">constraintVector</span> <span class="p">]</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reallyNewData</span>
<span class="go">matrix([[ 35.04920635,  19.82814815,  14.56111111, 1.1, 2.11,  42.1 ]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reallyNewKernel</span> <span class="o">=</span> <span class="n">stackVertical</span><span class="p">(</span> <span class="p">[</span> <span class="n">newKernel</span><span class="o">.</span><span class="n">T</span><span class="o">*</span><span class="n">numpy</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">pinv</span><span class="p">(</span> <span class="n">newCov</span> <span class="p">)</span><span class="o">*</span><span class="n">newKernel</span><span class="p">,</span> <span class="n">constraintMatrix</span> <span class="p">]</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reallyNewKernel</span>
<span class="go">matrix([[ 37.13293651,  28.66666667,  15.97222222,   0.        ,   0.        ],</span>
<span class="go">        [ 28.66666667,  38.82962963,  23.33333333,   0.        ,   0.        ],</span>
<span class="go">        [ 15.97222222,  23.33333333,  27.22222222,   0.        ,   0.        ],</span>
<span class="go">        [  0.        ,   0.        ,   0.        ,  10.        ,   0.        ],</span>
<span class="go">        [  0.        ,   0.        ,   0.        ,   0.        ,   0.05      ],</span>
<span class="go">        [  0.        ,   0.        ,   0.        ,   1.        ,   1.        ]])</span>
</pre></div>
</div>
</dd>
<dt>Now we just invert the reallyNewKernel </dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">pinv</span><span class="p">(</span> <span class="n">reallyNewKernel</span> <span class="p">)</span> <span class="o">*</span> <span class="n">reallyNewData</span><span class="o">.</span><span class="n">T</span>
<span class="go">matrix([[  1.30359097],</span>
<span class="go">        [ -0.64662084],</span>
<span class="go">        [  0.32428234],</span>
<span class="go">        [  0.10999476],</span>
<span class="go">        [ 41.99052891]])</span>
</pre></div>
</div>
</dd>
<dt>The fit is just a little better than with the prior alone &#8211; but now the last element is nailed down:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">residual</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">T</span> <span class="o">-</span> <span class="n">kernel</span><span class="o">*</span><span class="n">model</span>
<span class="go">matrix([[ 0.11680368],</span>
<span class="go">        [-0.0744488 ],</span>
<span class="go">        [ 0.02702848]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">error</span> <span class="o">=</span> <span class="n">answer</span><span class="o">.</span><span class="n">T</span> <span class="o">-</span> <span class="n">model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">error</span>
<span class="go">matrix([[ 0.04524624],</span>
<span class="go">        [-0.05105358],</span>
<span class="go">        [ 0.02455487],</span>
<span class="go">        [-0.00999476],</span>
<span class="go">        [ 0.00947109]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">constraintMatrix</span><span class="o">*</span><span class="n">model</span>
<span class="go">matrix([[ 42.10052368]])</span>
</pre></div>
</div>
</dd>
<dt>We compute the covariance as the inverse of the reallyNewKernel:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">modelCov</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">pinv</span><span class="p">(</span> <span class="n">reallyNewKernel</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modelCov</span>
<span class="go">matrix([[  6.30909610e-02,  -5.01795451e-02,   5.99338297e-03,  0.00000000e+00,   0.00000000e+00,   0.00000000e+00],</span>
<span class="go">        [ -5.01795451e-02,   9.30182090e-02,  -5.02878134e-02,  0.00000000e+00,   0.00000000e+00,   0.00000000e+00],</span>
<span class="go">        [  5.99338297e-03,  -5.02878134e-02,   7.63220083e-02,  0.00000000e+00,   0.00000000e+00,   0.00000000e+00],</span>
<span class="go">        [  0.00000000e+00,   0.00000000e+00,   0.00000000e+00,  9.99975063e-02,  -4.98740680e-04,   2.49370340e-05],</span>
<span class="go">        [  0.00000000e+00,   0.00000000e+00,   0.00000000e+00, -9.97481360e-02,   5.03728087e-02,   9.97481360e-01]])</span>
</pre></div>
</div>
</dd>
<dt>The new uncertainties are much reduced:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">uncertainty</span> <span class="o">=</span> <span class="p">[</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">modelCov</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">i</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span> <span class="n">modelCov</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">)</span> <span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">uncertainty</span>
<span class="go">[0.25117914115531315, 0.30498886706247513, 0.2762643810785747, 0.316223823100982, 0.22443887510442173]</span>
</pre></div>
</div>
</dd>
</dl>
<p><strong>A data+constraint solution</strong></p>
<p>Let&#8217;s see how well we do using just the constraints and the data fitting.  As before, we stack the 
normal and constraint equation, but this time use the old kernel and old data (that is, without the prior):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">reallyNewData</span> <span class="o">=</span> <span class="n">stackHorizontal</span><span class="p">(</span> <span class="p">[</span> <span class="p">(</span> <span class="n">kernel</span><span class="o">.</span><span class="n">T</span> <span class="o">*</span> <span class="n">numpy</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">pinv</span><span class="p">(</span> <span class="n">dataCov</span> <span class="p">)</span> <span class="o">*</span> <span class="n">data</span><span class="o">.</span><span class="n">T</span> <span class="p">)</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">constraintVector</span> <span class="p">]</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reallyNewData</span>
<span class="go">matrix([[ 16.47777778,  21.22814815,  13.81111111,   0.        , 0.        ,  42.1       ]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reallyNewKernel</span> <span class="o">=</span> <span class="n">stackVertical</span><span class="p">(</span> <span class="p">[</span> <span class="n">kernel</span><span class="o">.</span><span class="n">T</span><span class="o">*</span><span class="n">numpy</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">pinv</span><span class="p">(</span> <span class="n">dataCov</span> <span class="p">)</span><span class="o">*</span><span class="n">kernel</span><span class="p">,</span> <span class="n">constraintMatrix</span> <span class="p">]</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reallyNewKernel</span>
<span class="go">matrix([[ 22.84722222,  28.66666667,  15.97222222,   0.        ,   0.        ],</span>
<span class="go">        [ 28.66666667,  36.82962963,  23.33333333,   0.        ,   0.        ],</span>
<span class="go">        [ 15.97222222,  23.33333333,  24.72222222,   0.        ,   0.        ],</span>
<span class="go">        [  0.        ,   0.        ,   0.        ,   0.        ,   0.        ],</span>
<span class="go">        [  0.        ,   0.        ,   0.        ,   0.        ,   0.        ],</span>
<span class="go">        [  0.        ,   0.        ,   0.        ,   1.        ,   1.        ]])</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Now we just invert the reallyNewKernel </dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">pinv</span><span class="p">(</span> <span class="n">reallyNewKernel</span> <span class="p">)</span> <span class="o">*</span> <span class="n">reallyNewData</span><span class="o">.</span><span class="n">T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span>
<span class="go">matrix([[  0.66232558],</span>
<span class="go">        [ -0.05465116],</span>
<span class="go">        [  0.18232558],</span>
<span class="go">        [ 21.05      ],</span>
<span class="go">        [ 21.05      ]])</span>
</pre></div>
</div>
</dd>
<dt>Ack!  it made sure the constraint is obeyed, by divying up the 42.1 among the two uncontrolled model parameters!</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">residual</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">T</span> <span class="o">-</span> <span class="n">kernel</span><span class="o">*</span><span class="n">model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">residual</span> 
<span class="go">matrix([[ -1.07913678e-13],</span>
<span class="go">        [ -2.13828955e-13],</span>
<span class="go">        [ -4.26325641e-13]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">error</span> <span class="o">=</span> <span class="n">answer</span><span class="o">.</span><span class="n">T</span><span class="o">-</span><span class="n">model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">error</span>
<span class="go">matrix([[  0.68651163],</span>
<span class="go">        [ -0.64302326],</span>
<span class="go">        [  0.16651163],</span>
<span class="go">        [-20.95      ],</span>
<span class="go">        [ 20.95      ]])</span>
</pre></div>
</div>
</dd>
</dl>
<p>What is telling is that, to accomodate the constraint, all the uncertainty had to be shifted to the first 
three components of the model:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">modelCov</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">pinv</span><span class="p">(</span> <span class="n">reallyNewKernel</span> <span class="p">)</span> <span class="c"># use Moore-Penrose generalized inverse (ie SVD inversion)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modelCov</span>
<span class="go">matrix([[ 19.2436993 , -17.66414278,   4.23904813,   0.        ,0.        ,   0.        ],</span>
<span class="go">        [-17.66414278,  16.28177393,  -3.95484045,   0.        ,0.        ,   0.        ],</span>
<span class="go">        [  4.23904813,  -3.95484045,   1.03439697,   0.        ,0.        ,   0.        ],</span>
<span class="go">        [  0.        ,   0.        ,   0.        ,   0.        ,0.        ,   0.5       ],</span>
<span class="go">        [  0.        ,   0.        ,   0.        ,   0.        ,0.        ,   0.5       ]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">uncertainty</span> <span class="o">=</span> <span class="p">[</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">modelCov</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">i</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span> <span class="n">modelCov</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">)</span> <span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">uncertainty</span> 
<span class="go">[4.386764103176406, 4.035068020722195, 1.0170530818673396, 0.0, 0.0]</span>
</pre></div>
</div>
<p>The moral is that we&#8217;d better know what spaces are constrainted by data and which ones are not!!!</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.linearAlgebra.check_covariance_element_bounds">
<tt class="descclassname">fudge.core.math.linearAlgebra.</tt><tt class="descname">check_covariance_element_bounds</tt><big>(</big><em>A</em>, <em>warnAll=False</em>, <em>verbose=False</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/linearAlgebra.html#check_covariance_element_bounds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.linearAlgebra.check_covariance_element_bounds" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fudge.core.math.linearAlgebra.check_positive_semidefinite">
<tt class="descclassname">fudge.core.math.linearAlgebra.</tt><tt class="descname">check_positive_semidefinite</tt><big>(</big><em>A</em>, <em>warnAll=False</em>, <em>verbose=False</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/linearAlgebra.html#check_positive_semidefinite"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.linearAlgebra.check_positive_semidefinite" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks that all elements in a matrix are <span class="math">\(\leq 0\)</span></p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.linearAlgebra.check_real_and_finite">
<tt class="descclassname">fudge.core.math.linearAlgebra.</tt><tt class="descname">check_real_and_finite</tt><big>(</big><em>A</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/linearAlgebra.html#check_real_and_finite"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.linearAlgebra.check_real_and_finite" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks that all elements in a matrix are read and finite</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.linearAlgebra.check_symmetric">
<tt class="descclassname">fudge.core.math.linearAlgebra.</tt><tt class="descname">check_symmetric</tt><big>(</big><em>A</em>, <em>warnAll=False</em>, <em>verbose=False</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/linearAlgebra.html#check_symmetric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.linearAlgebra.check_symmetric" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether a matrix is symmetric, i.e. <span class="math">\(A_{ij} = A_{ji}\)</span></p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.linearAlgebra.correlation_to_covariance">
<tt class="descclassname">fudge.core.math.linearAlgebra.</tt><tt class="descname">correlation_to_covariance</tt><big>(</big><em>correlationMatrix</em>, <em>data</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/linearAlgebra.html#correlation_to_covariance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.linearAlgebra.correlation_to_covariance" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a correlation matrix to a covariance matrix</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">not implemented</p>
</div>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.linearAlgebra.correlation_to_relative">
<tt class="descclassname">fudge.core.math.linearAlgebra.</tt><tt class="descname">correlation_to_relative</tt><big>(</big><em>correlationMatrix</em>, <em>data</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/linearAlgebra.html#correlation_to_relative"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.linearAlgebra.correlation_to_relative" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a correlation matrix to a relative covariance matrix</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">not implemented</p>
</div>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.linearAlgebra.covariance_to_correlation">
<tt class="descclassname">fudge.core.math.linearAlgebra.</tt><tt class="descname">covariance_to_correlation</tt><big>(</big><em>covarianceMatrix</em>, <em>data</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/linearAlgebra.html#covariance_to_correlation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.linearAlgebra.covariance_to_correlation" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a covariance matrix to a correlation matrix</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.linearAlgebra.covariance_to_relative">
<tt class="descclassname">fudge.core.math.linearAlgebra.</tt><tt class="descname">covariance_to_relative</tt><big>(</big><em>covarianceMatrix</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/linearAlgebra.html#covariance_to_relative"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.linearAlgebra.covariance_to_relative" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert an absolute covariance matrix to a relative covariance matrix</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.linearAlgebra.diff_matrices">
<tt class="descclassname">fudge.core.math.linearAlgebra.</tt><tt class="descname">diff_matrices</tt><big>(</big><em>matrixOne</em>, <em>matrixTwo</em>, <em>printDiagnostics=True</em>, <em>quiet=True</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/linearAlgebra.html#diff_matrices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.linearAlgebra.diff_matrices" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fudge.core.math.linearAlgebra.dot_product">
<tt class="descclassname">fudge.core.math.linearAlgebra.</tt><tt class="descname">dot_product</tt><big>(</big><em>*args</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/linearAlgebra.html#dot_product"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.linearAlgebra.dot_product" title="Permalink to this definition">¶</a></dt>
<dd><p>Matrix multiplication (dot product) of all arguments:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">dotproduct</span><span class="p">(</span><span class="n">V</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="n">V</span><span class="p">)</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">T</span> <span class="o">*</span> <span class="n">A</span> <span class="o">*</span> <span class="n">V</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.linearAlgebra.eigenvectors_from_orthoganal_matrix">
<tt class="descclassname">fudge.core.math.linearAlgebra.</tt><tt class="descname">eigenvectors_from_orthoganal_matrix</tt><big>(</big><em>O</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/linearAlgebra.html#eigenvectors_from_orthoganal_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.linearAlgebra.eigenvectors_from_orthoganal_matrix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fudge.core.math.linearAlgebra.extract_uncertainty">
<tt class="descclassname">fudge.core.math.linearAlgebra.</tt><tt class="descname">extract_uncertainty</tt><big>(</big><em>covarianceMatrix</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/linearAlgebra.html#extract_uncertainty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.linearAlgebra.extract_uncertainty" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fudge.core.math.linearAlgebra.extract_variance">
<tt class="descclassname">fudge.core.math.linearAlgebra.</tt><tt class="descname">extract_variance</tt><big>(</big><em>covarianceMatrix</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/linearAlgebra.html#extract_variance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.linearAlgebra.extract_variance" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fudge.core.math.linearAlgebra.fit_statistics">
<tt class="descclassname">fudge.core.math.linearAlgebra.</tt><tt class="descname">fit_statistics</tt><big>(</big><em>data</em>, <em>dataCov</em>, <em>kernel</em>, <em>model</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/linearAlgebra.html#fit_statistics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.linearAlgebra.fit_statistics" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fudge.core.math.linearAlgebra.get_covariances_from_endf">
<tt class="descclassname">fudge.core.math.linearAlgebra.</tt><tt class="descname">get_covariances_from_endf</tt><big>(</big><em>endfFile</em>, <em>MT</em>, <em>MF=33</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/linearAlgebra.html#get_covariances_from_endf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.linearAlgebra.get_covariances_from_endf" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fudge.core.math.linearAlgebra.get_test_matrix">
<tt class="descclassname">fudge.core.math.linearAlgebra.</tt><tt class="descname">get_test_matrix</tt><big>(</big><em>endfFile=None</em>, <em>MT=None</em>, <em>MF=None</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/linearAlgebra.html#get_test_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.linearAlgebra.get_test_matrix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fudge.core.math.linearAlgebra.hist_interp_of_matrix">
<tt class="descclassname">fudge.core.math.linearAlgebra.</tt><tt class="descname">hist_interp_of_matrix</tt><big>(</big><em>supergrid</em>, <em>mat</em>, <em>erows</em>, <em>ecols=None</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/linearAlgebra.html#hist_interp_of_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.linearAlgebra.hist_interp_of_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Put &#8216;histogram&#8217; interpolation of matrix onto a new <cite>supergrid</cite>:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>supergrid</strong> &#8211; energy list to use for new matrix</li>
<li><strong>mat</strong> &#8211; original matrix to be interpolated</li>
<li><strong>erows</strong> &#8211; energy bins for rows/x-axis of original matrix</li>
<li><strong>ecols</strong> &#8211; energy bins for columns/y-axis, same as ex by default</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>all points in <cite>erows</cite> and <cite>ecols</cite> must also be in supergrid, 
or ValueError is raised</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.linearAlgebra.matrix_from_eigendecomposition">
<tt class="descclassname">fudge.core.math.linearAlgebra.</tt><tt class="descname">matrix_from_eigendecomposition</tt><big>(</big><em>e</em>, <em>v</em>, <em>ndim</em>, <em>doInverse=False</em>, <em>onlyLargeEVs=True</em>, <em>onlyPositiveEV=True</em>, <em>smallEVAbsTol=1e-10</em>, <em>smallEVRelTol=1e-06</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/linearAlgebra.html#matrix_from_eigendecomposition"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.linearAlgebra.matrix_from_eigendecomposition" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fudge.core.math.linearAlgebra.off_diagonals">
<tt class="descclassname">fudge.core.math.linearAlgebra.</tt><tt class="descname">off_diagonals</tt><big>(</big><em>matrix</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/linearAlgebra.html#off_diagonals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.linearAlgebra.off_diagonals" title="Permalink to this definition">¶</a></dt>
<dd><p>Return indices for all off-diagonal elements.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">mat</span><span class="p">[</span> <span class="n">offdiag</span><span class="p">(</span> <span class="n">mat</span> <span class="p">)</span> <span class="p">]</span> <span class="o">*=</span> <span class="o">-</span><span class="mi">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.linearAlgebra.plot_bad_eigenspaces">
<tt class="descclassname">fudge.core.math.linearAlgebra.</tt><tt class="descname">plot_bad_eigenspaces</tt><big>(</big><em>A</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/linearAlgebra.html#plot_bad_eigenspaces"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.linearAlgebra.plot_bad_eigenspaces" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fudge.core.math.linearAlgebra.plot_matrix">
<tt class="descclassname">fudge.core.math.linearAlgebra.</tt><tt class="descname">plot_matrix</tt><big>(</big><em>m</em>, <em>title='a matrix'</em>, <em>scaling=None</em>, <em>scalingFloor=0.0</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/linearAlgebra.html#plot_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.linearAlgebra.plot_matrix" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>m</strong> &#8211; a numpy.mat instance</li>
<li><strong>title</strong> &#8211; a string to use as the plot title</li>
<li><strong>scaling</strong> &#8211; <p>either None, &#8216;log&#8217;, or &#8216;asinh&#8217;
this scales the value of the matrix plotted in the following ways</p>
<div class="highlight-python"><pre>* None : no scaling
* 'log' : each element is plotted as ln(x) -- good for covariances
  which must always be positive semidefinite.  If scalingFloor &gt; 0.0, 
  than we do ln(max(x, scalingFloor)).
* 'asinh' : each element is scaled as asinh(x).  This exaggerates 
  scale for values of abs(x)&lt;1.0.</pre>
</div>
</li>
<li><strong>scalingFloor</strong> &#8211; the minimum value of each element that gets plotted.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.linearAlgebra.print_eigenvalues">
<tt class="descclassname">fudge.core.math.linearAlgebra.</tt><tt class="descname">print_eigenvalues</tt><big>(</big><em>A</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/linearAlgebra.html#print_eigenvalues"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.linearAlgebra.print_eigenvalues" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fudge.core.math.linearAlgebra.print_matrix">
<tt class="descclassname">fudge.core.math.linearAlgebra.</tt><tt class="descname">print_matrix</tt><big>(</big><em>M</em>, <em>pretty=True</em>, <em>elementSize=8</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/linearAlgebra.html#print_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.linearAlgebra.print_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple matrix printer, makes little attempt to be pretty, but does print huge matrices</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.linearAlgebra.print_vector">
<tt class="descclassname">fudge.core.math.linearAlgebra.</tt><tt class="descname">print_vector</tt><big>(</big><em>v</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/linearAlgebra.html#print_vector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.linearAlgebra.print_vector" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="fudge.core.math.linearAlgebra.pruned_matrix">
<tt class="descclassname">fudge.core.math.linearAlgebra.</tt><tt class="descname">pruned_matrix</tt><big>(</big><em>A</em>, <em>onlyLargeEVs=True</em>, <em>onlyPositiveEV=True</em>, <em>smallEVAbsTol=1e-10</em>, <em>smallEVRelTol=1e-06</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/linearAlgebra.html#pruned_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.linearAlgebra.pruned_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebuild <span class="math">\(A\)</span> &#8220;by hand&#8221;, the safe way.   <span class="math">\(A\)</span> must admit an eigenvalue decomposition.</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.linearAlgebra.pruned_matrix_inverse">
<tt class="descclassname">fudge.core.math.linearAlgebra.</tt><tt class="descname">pruned_matrix_inverse</tt><big>(</big><em>e</em>, <em>v</em>, <em>onlyLargeEVs=True</em>, <em>onlyPositiveEV=True</em>, <em>smallEVAbsTol=1e-10</em>, <em>smallEVRelTol=1e-06</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/linearAlgebra.html#pruned_matrix_inverse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.linearAlgebra.pruned_matrix_inverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Build inverse of <span class="math">\(A\)</span> &#8220;by hand&#8221;, the safe way.   <span class="math">\(A\)</span> must admit an eigenvalue decomposition.</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.linearAlgebra.rebin_matrix">
<tt class="descclassname">fudge.core.math.linearAlgebra.</tt><tt class="descname">rebin_matrix</tt><big>(</big><em>arr</em>, <em>N=2</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/linearAlgebra.html#rebin_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.linearAlgebra.rebin_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebin array by factor of N (not necessarily multiple of 2)</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.linearAlgebra.reduce_off_diagonals">
<tt class="descclassname">fudge.core.math.linearAlgebra.</tt><tt class="descname">reduce_off_diagonals</tt><big>(</big><em>corr_mat</em>, <em>thresh</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/linearAlgebra.html#reduce_off_diagonals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.linearAlgebra.reduce_off_diagonals" title="Permalink to this definition">¶</a></dt>
<dd><p>Sometimes easiest way to eliminate negative eigenvalues is to 
reduce off-diagonal portion of the correlation matrix</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.linearAlgebra.relative_to_correlation">
<tt class="descclassname">fudge.core.math.linearAlgebra.</tt><tt class="descname">relative_to_correlation</tt><big>(</big><em>relativeMatrix</em>, <em>data</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/linearAlgebra.html#relative_to_correlation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.linearAlgebra.relative_to_correlation" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a relative covariance matrix to a correlation matrix</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">not implemented</p>
</div>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.linearAlgebra.relative_to_covariance">
<tt class="descclassname">fudge.core.math.linearAlgebra.</tt><tt class="descname">relative_to_covariance</tt><big>(</big><em>relativeMatrix</em>, <em>variance</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/linearAlgebra.html#relative_to_covariance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.linearAlgebra.relative_to_covariance" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a relative covariance matrix to an absolute covariance matrix</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">not implemented</p>
</div>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.linearAlgebra.scale_off_diagonals">
<tt class="descclassname">fudge.core.math.linearAlgebra.</tt><tt class="descname">scale_off_diagonals</tt><big>(</big><em>A</em>, <em>onlyScaleThese=None</em>, <em>scaleFactor=0.999999</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/linearAlgebra.html#scale_off_diagonals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.linearAlgebra.scale_off_diagonals" title="Permalink to this definition">¶</a></dt>
<dd><p>Sam&#8217;s trick for getting UNCOR to cooperate: shrink off diagonal elements by some (small) factor</p>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.linearAlgebra.stackDiagonal">
<tt class="descclassname">fudge.core.math.linearAlgebra.</tt><tt class="descname">stackDiagonal</tt><big>(</big><em>l</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/linearAlgebra.html#stackDiagonal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.linearAlgebra.stackDiagonal" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>l</strong> &#8211; a list of numpy matrices, elements equal to None are ignored</td>
</tr>
</tbody>
</table>
<p>A note about numpy.matrix shapes and indexing</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">a</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="p">[</span> <span class="n">nRows</span><span class="p">,</span> <span class="n">nCols</span> <span class="p">]</span>
</pre></div>
</div>
<p>So, we index through <tt class="docutils literal"><span class="pre">a[</span> <span class="pre">iRow,</span> <span class="pre">iCol</span> <span class="pre">]</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a matrix packed as follows<div class="highlight-python"><pre>[  l[0]  |  0.0  |  0.0 | ... |   0.0  ]
[ ------ | ----- | ---- | ... | ------ ]
[   0.0  | l[1]  |  0.0 | ... |   0.0  ]
[ ------ | ----- | ---- | ... | ------ ]
[   0.0  |  0.0  | l[2] | ... |   0.0  ]
[ ------ | ----- | ---- | ... | ------ ]
[    :   |   :   |  :   |     |    :   ]
[ ------ | ----- | ---- | ... | ------ ]
[   0.0  |  0.0  |  0.0 | ... | l[n-1] ]</pre>
</div>
<p>where n is the number of non-None elements in l</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.linearAlgebra.stackHorizontal">
<tt class="descclassname">fudge.core.math.linearAlgebra.</tt><tt class="descname">stackHorizontal</tt><big>(</big><em>l</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/linearAlgebra.html#stackHorizontal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.linearAlgebra.stackHorizontal" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>l</strong> &#8211; a list of numpy matrices, each with same shape[0] (i.e. same number of rows).  Elements equal to None are ignored</td>
</tr>
</tbody>
</table>
<p>A note about numpy.matrix shapes and indexing</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">a</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="p">[</span> <span class="n">nRows</span><span class="p">,</span> <span class="n">nCols</span> <span class="p">]</span>
</pre></div>
</div>
<p>So, we index through <tt class="docutils literal"><span class="pre">a[</span> <span class="pre">iRow,</span> <span class="pre">iCol</span> <span class="pre">]</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a matrix packed as follows<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span>  <span class="n">l</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="o">|</span> <span class="n">l</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>  <span class="o">|</span> <span class="o">...</span> <span class="o">|</span> <span class="n">l</span><span class="p">[</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="p">]</span>
</pre></div>
</div>
<p>where n is the number of non-None elements in l</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fudge.core.math.linearAlgebra.stackVertical">
<tt class="descclassname">fudge.core.math.linearAlgebra.</tt><tt class="descname">stackVertical</tt><big>(</big><em>l</em><big>)</big><a class="reference internal" href="../_modules/fudge/core/math/linearAlgebra.html#stackVertical"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fudge.core.math.linearAlgebra.stackVertical" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>l</strong> &#8211; a list of numpy matrices, each with same <cite>shape[1]</cite> (i.e. same number of columns).  Elements equal to None are ignored</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a matrix packed as follows<div class="highlight-python"><pre>[  l[0]  ]
[ ------ ]
[  l[1]  ]
[ ------ ]
[    :   ]
[ ------ ]
[ l[n-1] ]</pre>
</div>
<p>where n is the number of non-None elements in l</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="fudge.core.math.test.html">test Package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="fudge.core.math.test.html#id1"><tt class="docutils literal"><span class="pre">test</span></tt> Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="fudge.core.math.test.html#module-fudge.core.math.test.testFudgeMath"><tt class="docutils literal"><span class="pre">testFudgeMath</span></tt> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="fudge.core.math.test.html#module-fudge.core.math.test.testXYs"><tt class="docutils literal"><span class="pre">testXYs</span></tt> Module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fudge.core.math.xData.html">xData Package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="fudge.core.math.xData.html#id1"><tt class="docutils literal"><span class="pre">xData</span></tt> Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="fudge.core.math.xData.html#module-fudge.core.math.xData.LegendreSeries"><tt class="docutils literal"><span class="pre">LegendreSeries</span></tt> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="fudge.core.math.xData.html#module-fudge.core.math.xData.V_W_XYs"><tt class="docutils literal"><span class="pre">V_W_XYs</span></tt> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="fudge.core.math.xData.html#module-fudge.core.math.xData.W_XYs"><tt class="docutils literal"><span class="pre">W_XYs</span></tt> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="fudge.core.math.xData.html#module-fudge.core.math.xData.XYs"><tt class="docutils literal"><span class="pre">XYs</span></tt> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="fudge.core.math.xData.html#module-fudge.core.math.xData.axes"><tt class="docutils literal"><span class="pre">axes</span></tt> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="fudge.core.math.xData.html#module-fudge.core.math.xData.polynomial"><tt class="docutils literal"><span class="pre">polynomial</span></tt> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="fudge.core.math.xData.html#module-fudge.core.math.xData.regions"><tt class="docutils literal"><span class="pre">regions</span></tt> Module</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/gnd.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">math Package</a><ul>
<li><a class="reference internal" href="#id1"><tt class="docutils literal"><span class="pre">math</span></tt> Package</a></li>
<li><a class="reference internal" href="#module-fudge.core.math.endl1dmathClasses"><tt class="docutils literal"><span class="pre">endl1dmathClasses</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-fudge.core.math.endl1dmathmisc"><tt class="docutils literal"><span class="pre">endl1dmathmisc</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-fudge.core.math.endl2dmathClasses"><tt class="docutils literal"><span class="pre">endl2dmathClasses</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-fudge.core.math.endl2dmathmisc"><tt class="docutils literal"><span class="pre">endl2dmathmisc</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-fudge.core.math.endl3dmathClasses"><tt class="docutils literal"><span class="pre">endl3dmathClasses</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-fudge.core.math.endl3dmathmisc"><tt class="docutils literal"><span class="pre">endl3dmathmisc</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-fudge.core.math.endl4dmathClasses"><tt class="docutils literal"><span class="pre">endl4dmathClasses</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-fudge.core.math.endl4dmathmisc"><tt class="docutils literal"><span class="pre">endl4dmathmisc</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-fudge.core.math.fudge2dGrouping"><tt class="docutils literal"><span class="pre">fudge2dGrouping</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-fudge.core.math.fudgemath"><tt class="docutils literal"><span class="pre">fudgemath</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-fudge.core.math.parameters"><tt class="docutils literal"><span class="pre">parameters</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-fudge.core.math.pointwiseXY"><tt class="docutils literal"><span class="pre">pointwiseXY</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-fudge.core.math.table"><tt class="docutils literal"><span class="pre">table</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-fudge.core.math.matrix"><tt class="docutils literal"><span class="pre">matrix</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-fudge.core.math.linearAlgebra"><tt class="docutils literal"><span class="pre">linearAlgebra</span></tt> Module</a></li>
<li><a class="reference internal" href="#subpackages">Subpackages</a><ul>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="fudge.core.html"
                        title="previous chapter">core Package</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="fudge.core.math.test.html"
                        title="next chapter">test Package</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/fudge/fudge.core.math.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="fudge.core.math.test.html" title="test Package"
             >next</a> |</li>
        <li class="right" >
          <a href="fudge.core.html" title="core Package"
             >previous</a> |</li>
        <li><a href="../index.html">Fudge and GND 1.2 beta documentation</a> &raquo;</li>
          <li><a href="index.html" >fudge Package</a> &raquo;</li>
          <li><a href="fudge.core.html" >core Package</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, B.Beck, D. Brown, C. Mattoon, N. Patel, N. Summers.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>